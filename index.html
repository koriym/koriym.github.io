
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>BEAR Blog</title>
  <meta name="author" content="Akihito Koriyama">

  
  <meta name="description" content="時間が経ってしまいましたが、2017年の秋にイギリスのリーズとマンチェスターで登壇した事を記事にします。 トラブル発生 行きの飛行のトランジットの時間がギリギリで、乗客は間に合ったのですが荷物の載せ替えが間に合わずスーツケースが未着、翌日宅配便で届くということになってしまいました。 教訓） &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://koriym.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="BEAR Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6074569-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">BEAR Blog</a></h1>
  
    <h2>Because everything is a resource.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="koriym.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/18/phpnw17/">PHPNW17</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-18T23:00:00+09:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:00 pm</span></time>
        
           | <a href="/blog/2018/03/18/phpnw17/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2018/03/18/phpnw17/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>時間が経ってしまいましたが、2017年の秋にイギリスのリーズとマンチェスターで登壇した事を記事にします。</p>

<h2>トラブル発生</h2>

<p>行きの飛行のトランジットの時間がギリギリで、乗客は間に合ったのですが荷物の載せ替えが間に合わずスーツケースが未着、翌日宅配便で届くということになってしまいました。</p>

<p>教訓）トランジットの短い便は、絶対に必要なものは手荷物にすべし。その日の着替え、プレゼンの時はPCは手持ちで！</p>

<p>本番前日にスーツケースが届いたのですが開けるとなんとMacBookがありません！。盗難かと一瞬思いましたが「Mac を探す」アプリを起動すると9,294km離れたところで反応があるのが確認できました。つまり日本の家に単に忘れてただけ！😵&hellip; iCloudに助けられました。友人の奥さんにMacbook Airを借りて急場をしのぐことにします。</p>

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">Confirmed. My Macbook is 9294km away from me the day before the presentation. But the problem fixed thanks to <a href="https://twitter.com/mackstar?ref_src=twsrc%5Etfw">@mackstar</a> いつもすいません！&gt;&lt;</p>&mdash; Akihito Koriyama (@koriym) <a href="https://twitter.com/koriym/status/913478596219596806?ref_src=twsrc%5Etfw">2017年9月28日</a></blockquote>


<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h1>Sky Sports</h1>

<p>Sky Sportsというイギリスの衛星放送事業者でPrincipal Software Engineerの職につかれている<a href="https://www.linkedin.com/in/mackstar/">Richard McIntyre</a>氏の招きで、リーズにあるSky Sportsで登壇する機会をいただきました。
（Sky Sportsは（プレミアリーグの放映権を全て持っているぐらいの）世界でも最大級の放送事業者で、以前講演したBBC Sportsよりも規模の大きい放送事業者です。Skyはツールドフランスでも有名ですよね）</p>

<p><img src="/images/phpnw17/sky.jpg"></p>

<p><a href="https://photos.google.com/share/AF1QipNCkT5ddXqOHKwY1tjUcuSl7frI_s8fnLsBjUktalTj7k7JTITYVfjrWtPBT9Y-xQ?key=ajM5Y2c1ckdBckUtVXphS1NzM1RmdWY5TkxGeFJB">Sky Sports 2017</a></p>

<p>（Skyのカフェに小さなポスターが貼ってありました）</p>

<p>&ldquo;Crating rih universal React apps powered by RESTful PHP"と長くてかっこいいタイトルはRichardさんが考えてくれました。
「"Hypermedia APIは自己記述的でヘッドレスアプリケーションとして機能する。それにSSRのReact UIを組み合わせるアーキテクチャ」というのを紹介しました。</p>

<script async class="speakerdeck-embed" data-id="e5b2e9053a9647fca02b6e626e5f91a3" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<p>以前Sky SportsでReactのSSRを検討した時にはパフォーマンスに問題があって一度断念しているという話を聞いていたのと、ヘッドレスCMSの人気が出て来ているという話を聞いてたので、その解決法と"ヘッドレス"を含んだプレゼンテーションにしました。自由参加だったのですがその部署のほとんどの人に参加していただいたようです。</p>

<p>今回のチャレンジは「英語のスクリプトを用意しない。英語は下手でもいいから読まずに話す」でした。あらかじめ用意する英語よりも文章は下手になりますが、聞いてる方はトークを聞きに来ています。正しい英語を話す自信はありませんでしたが、これは弁論大会ではなくて技術トークなんだと、参加者は私の英語を採点するためではなく技術の話を「聞きに来ている」のだと自分を言い聞かせて臨みました。カフェのアットホームな雰囲気もあって、会議室のBBCの時ほどは緊張せずリラックスして話せてやっぱり読まずに話して良かったと思いました。</p>

<p>このトークをこのSky Digital ContentのSenior Software Engineerの<a href="https://www.linkedin.com/in/chrisbelluk/">Chris Bell</a>さんに記事にしてもらっています。</p>

<p><a href="https://www.linkedin.com/pulse/akihito-koriyama-visits-sky-talk-react-apps-powered-restful-bell/">Akihito Koriyama visits Sky to talk React apps powered by RESTful PHP</a></p>

<p>終わったあとも質問が長く続き、良いコミニケーションが出来たと思います。</p>

<p>同じトークをphpnwカンファレンスのunconfでしました。</p>

<h1>PHPNW</h1>

<p>PHPNW(php north west)は2008年に始まり、今回参加した10回目の2017年phpnw17で幕を閉じました。</p>

<p><a href="http://conference.phpnw.org.uk/phpnw17/extras/previous-conferences/">http://conference.phpnw.org.uk/phpnw17/extras/previous-conferences/</a></p>

<p>そのうちカンファレンススピーカー枠で参加した<a href="http://koriym.github.io/blog/2014/01/04/phpnw2013/">phpnw13</a> 、アンカンファレンス参加したphpnw15、phpnw17と3回参加しました。</p>

<p><img src="/images/phpnw17/phpnw17.png"></p>

<p>イベントは通常三日間行われます。最初はカンファレンスの前日にあるTUTORIAL DAYです。</p>

<p><img src="/images/phpnw17/tutorail.png"></p>

<p>チュートリアルはカンファレンス料金とは別の代金が必要で1日で£250 (約37,000円)、半日で£145です。</p>

<p>チュートリアルの費用を会社に出してもらってる開発者も多く、面白いのはそれをサポートする仕組みがあることです。</p>

<p><img src="/images/phpnw17/ask_boss.png"></p>

<p>カンファレンスやチュートリアルに参加することがどれだけ意義があってそれが費用に見合うものかというbossを説得するPDF資料が用意されています（！）</p>

<p><img src="/images/phpnw17/ask_your_boss1.png">
<img src="/images/phpnw17/ask_your_boss2.png"></p>

<ol>
<li>素晴らしい従業員を引き留めることができる</li>
<li>あなたの"スーパースター"を育てることができる</li>
<li>未来への展望</li>
</ol>


<p>会社がお金を出したくなるような言葉が並びます。
他にも他の地方や外国から訪れている方のために、半日や一日観光などおすすめ観光情報も用意されていました。地元をプロモートしたいのだそうです。</p>

<h2>ハッカソン</h2>

<p>チュートリアルデーの夜はハッカソンです。 ハッカソンと言ってもチームに分かれて何かを競うわけではなくて、ソーシャル（懇親）が目的です。
「PHP-Excel」とか「Joind.in」とかプロダクト毎にテーブルが分かれていて、好きなテーブルに座りそれぞれのオープンソースのプロジェクトにコントリビュートします。</p>

<p>オープンソースのコントリビュートでカンファレンスを始める、そしてそのコントリビュートをソーシャルにする。素晴らしいと思います。</p>

<p><img src="/images/phpnw17/hackason.jpg">
(phpnw2013のハッカソン)</p>

<p>特にハッカソンに参加せずに他の参加者とおしゃべりするだけでもOKです。写真中央のスクリーン前にいる人たちはゲームで遊んでます。（ハットをかぶってる人はスピーカーの<a href="https://twitter.com/rosstuck">Ross Tuck</a>さん）</p>

<p>カンファレンスセンターにはバーと中庭があってゆっくり過ごせます。
<img src="/images/phpnw17/bar.jpg"></p>

<p>夜になると夜食も出ます。スピーカーの人達は事前にスピーカーディナーで別になっててちょっとしたコース料理を楽しむことができます。。ベジタリアンメニューとかどいう食事をしたいか事前にwebで選択できます。</p>

<p>今回初めて一人、地元の友人なしで行きました。食事の時間の時、BEAR.Sundayを使ってる<a href="https://twitter.com/kennybody">Kennyさん</a>を見つけて一緒のテーブルに混ぜてもらいました。</p>

<p><img src="/images/phpnw17/w_kieth_jake.jpg"></p>

<p>左の写真は<a href="https://twitter.com/GroovyCarrot">Jake</a>さん、iOSの<a href="https://www.youtube.com/watch?v=uG5DXypCEsk">NextGen UI</a>というUIで有名な開発者です。</p>

<p>Kennyさんは翌日はphpnwで初めてというバンド演奏でドラムを叩いてました。かっこいい！
（そのバンドのサイトをBEAR.Sundayで作りたいそうです）</p>

<p><img src="/images/phpnw17/kieth.jpg"></p>

<p>カンファレンスは二日あります。</p>

<p><img src="/images/phpnw17/day1.png"></p>

<p>1日目は開会挨拶（10分）、スポンサー紹介（15分）の後にオープニングキーノート(50分）と続きます。</p>

<p>4つのセッションが３トラックで行われます。ルームサイズはそれぞれ大中小。1つのセッションはどれもQA含めて50分。</p>

<ul>
<li>50分のキーノート</li>
<li>10分のインターバル</li>
<li>セッション（1）</li>
<li>☕️ 25分のブレイク</li>
<li>セッション(2)</li>
<li>☕️ 70分のランチ</li>
<li>セッション(3)</li>
<li>☕️ 25分のブレイク</li>
<li>セッション(4)</li>
<li>50分 Platium Sponsor &amp; Prize</li>
<li>50分のインターバル</li>
<li>19:00 夕食＆ソーシャル - 深夜</li>
</ul>


<p>ブレイクの時間はカンファレンスルームをみんな離れてホールで過ごします。
提供されたコーヒーやお菓子を手に、スポンサーブースを見たり聞いたばかりのセッションの感想を参加者同士で話し合ったりするソーシャルのための時間です。
時間25分と長めで振り返ったりブースも見れたりできるので良かったです。</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/fYTKm2oUzAg?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>


<p>（phpnw17でのキーノートの映像はまだ公開されていませんが同じ内容の映像がありました）</p>

<p>PHPの歴史と進化の話でした。</p>

<p>スライド <a href="http://talks.php.net/vienna17#/">http://talks.php.net/vienna17#/</a></p>

<p>中でも印象的だったのがphp7の移行を呼びかけるところ。</p>

<p>「世界には20億のサイトがあり、1000万台の物理サーバーが存在する。
そのうちの少なくも半分はPHPサーバー、しかしphp7はまだphp全体の5%（約25万台）しか使われてない。
しかしその5％でもサーバー使用料が$200M（210億円）、750MHの電力、375MkgのCO2がphp5に比べて節約できている。
これがもし100%になると.. 使用電力も二酸化炭素排出も減り、世界をより良い場所にすることができる。php7への移行を！」</p>

<p>php7のアップグレードは地球を救うことになります！😅</p>

<p>他にはオペコードの最適化が進んで、未使用のコードや未使用変数のコンパイルを行わないなどダメなコードほど恩恵が受けられることなども説明していました。これは7.1、7.2とバージョンが進むほど効果があるそうです。参加者が「じゃあWordPressはすごく早くなるのか？」と途中で聞いたらラスマスさんは苦笑しながら「いやWordPressのコードはスタイルは古いけどそんなに悪くないんだ」と答え、しかし「プラグインのコード知らないでしょ？」（会場爆笑）というやりとりもありました。</p>

<p>大規模CMSのアプリケーションアーキテクチャの話は印象に残りました。</p>

<script async class="speakerdeck-embed" data-id="f811eda608c44a57861094fd35a0cdbb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>大規模というのは単に秒間リクエストの話だけはなく問題の複雑さの事で、それに対してどういうアーキテクチャやソフトウエア技術で解決するかというインスピレーションを得られる内容でした。ルーマニアのgeekを自称する方で、母でありアーキテクトであるというすごい方でした。</p>

<p>２回目のunconfはskyでの45分のものを30分にするので少し駆け足になりましたが、良いトークになったと思います。
ブログ記事やjoindinでのレビューもいただきました。</p>

<p><a href="https://codereviewvideos.com/blog/php-north-west-2017-conference-review/">[PHP North West 2017] – Conference Review</a></p>

<blockquote><p>I really enjoyed this talk. I wish I had taken further notes around Akihito’s implementation of Server Side Rendering, which has become a problem for me in the time since attending PHPNW17.</p></blockquote>

<p><a href="https://joind.in/event/phpnw17/creating-rich-universal-react-apps-powered-by-restful-php">joindin review</a></p>

<blockquote><p>Short, but concise and inspired talk about aspect-oriented programming. Brilliant insights into building scalable, and future-proof application domain boundaries using BEAR.Sunday to generate HATEOAS compliant API&rsquo;s; with realtime synthesised documentation.</p></blockquote>

<p>ちなみに日本のような参加者全員で聞く最後のLTはありません。スポンサーセッションと夕食、ソーシャルの時間に続いて1日目が終わります。</p>

<p><img src="/images/phpnw17/day2.png"></p>

<p>二日目は半日で終わりますが、これは遠方から来てる人たちがその日に帰れる配慮です。
１度だけ30分のBreakがありますが、半日しかないので1日目より速い進行です。</p>

<p>最後に25分のクロージングキーノートがあります。
<a href="https://joind.in/event/phpnw17/for-the-love-of-code">For The Love Of Code</a>というPHPコミュニティに関しての話でした。ちょっとハートフルな内容です。</p>

<p>&ldquo;The talk is centred around the idea of community. PHP has one of the best communities we know. Its people are passionate, enthusiastic, loyal, and smart. But, there is a problem. We somehow feel, whether we like to admit it or not, that for our community, our language, to be great, it must be at the cost of another community or another language. Perhaps a framework we don?t like so much, or another language that thinks is better than ours. We make little remarks, or take cheap shots at the ?competition?. But it doesn&rsquo;t have to be that way. When I started coding all those years ago I had no idea there would be hoards of other developers waiting to share ideas and pass on the knowledge - all for the love of code. Which is the real reason we?re all here. We all love code. The talk will revolve around the idea that all software-based communities have so much in common. That we all have a common purpose - to share and promote the thing we love. But we can promote our community without detracting from others. Using the philosophy of "Think Win-Win&rdquo; from The 7 Habits of Highly Effective People, I will discuss how shift in attitude can means we can all promote our beloved language and promote others too, and still win."</p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/MvBKuf22CHdgZz" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/johnnybifter/for-the-love-of-code-phpnw17" title="For the Love of Code - PHPNW17" target="_blank">For the Love of Code - PHPNW17</a> </strong> from <strong><a href="https://www.slideshare.net/johnnybifter" target="_blank">John Cleary</a></strong> </div></p>

<p>そのあとの終了の挨拶で「今年でphpnwの開催を最後にする」との突然の発表がありました。
直後にどよめきがあり、その後に拍手に代わりそして長いスタンディングオベーションになりました。主催者のジェレミーさんも壇上で言葉に詰まっています。</p>

<p><img src="/images/phpnw17/ending.jpg"></p>

<p>「ああ、それでキーノートがラスマスさんだったんだとか、迷ったけど今年来て良かったとか」とか様々な考えが頭に浮かびます。</p>

<p>10年続いたPHPNWは終わりました。やはり毎年の開催は大変な苦労で、10年を区切りと考えたそうです。
カンファレンス終わった後、一緒にクロージングキーノートを聞いてたJakeさんが彼のCIVICで空港まで送ってくれ、マンチェスターを後にしました。</p>

<h1>PHPNW</h1>

<p>そもそも私がPHPNWに参加することになったのは地元のリチャードさんがBEAR.Sundayを気に入って彼が応募し採択され共同発表する事になったからです。
その年のphpcon(東京)への応募は落選してて、初めてカンファレンスに登壇したのは日本ではなくPHPNWでした。</p>

<p>知り合いも沢山できて「今年は来てないの？」と前年に言われ参加したのが最後のphpnw17でした。</p>

<p><img src="/images/phpnw17/cup.jpg"></p>

<p>PHPNWとはどういうカンファレンスだったか改めて振り返ってみます。</p>

<p>参加者、特にスピーカーにオープンソースの開発者が多かったです。XdebugのDerickさん、phpDoumentorのMikeさん、ReactPHPのCeesさん、ZF/SlimのRobさん、Silex/YoloのIgor さん、BeHatのEverzetさん、HHVMのSaraMGさん、あげればきりがないくらい沢山います。私が気が付いていない人もいたでしょう。しかし有名オープンソースの開発者が必ず登壇してるという風でもなく聴衆としても参加してます。他にはDDDやBDDのエバンジャリストや、コミュニティリーダー、アプリケーションアーキテクトとかそういう人が登壇してる感じでした。</p>

<p>参加者のソーシャルを大事にするカンファレンスでした。ブレイクは25分と長く、スピーカーの話を聞く＆参加者とおしゃべりをするサイクルができています。スピーカー同士の交流が生まれやすいように、スピーカーディナーやランチなどスピーカー同士のソーシャルができる場も用意されていました。</p>

<p>スピーカーに対する負担を少なくするため、スピーカー1人につき"shadow"と呼ばれるスピーカーをサポートする人が一人つきます。発表当日の朝、一人の人が現れ「僕は今日あなたのshadowを務めるものです。」と挨拶がありました。かっこいい（！）機材や進行の確認、色々な疑問はshadowに投げると答えてたりshadowが分からないことは
他の人に訪ねてくれます。スピーカーがそれぞれの担当の人を探す必要がありません。</p>

<p>オーガナイザーのジェレミーさんに聞くと「スピーカーの人にはこのカンファレンスで話して良かったと思ってもらいたいんだ。このマグカップのギフトもその工夫の１つなんだ」と教えてくれました。</p>

<h2>unconf</h2>

<p>誰でも最初から流暢なトークができるわけではありません。人前で話すことに慣れてない方もいます。アンカフレンスはそういう方のためのものでもあります。トークの後にトークについてのレビューやアドバイスもしてくれます。私は最初にセッション枠で登壇して、次からunconfに参加で順番逆だと思うのですが、良い取り組みだと後で知りました。ちなみに担当の人によると、ほとんどのトーク初心者は緊張して喋りが早すぎてしまうという事でした。ゆっくり話しましょう。</p>

<h3>どういうトークが採択されているか</h3>

<p>トーク応募の項目には発表の概要と共に「なぜ、聴衆は貴方の話を聞かなければならないのか？」という項目があります。聴衆が時間をお金と時間を使って聞く価値があるものを応募してほしい、その視点が無いものは我々は採択しないというメッセージです。トークのゴールを明確にする事で、採択者への理解の助けにもなるでしょう。そして地元の参加者をエンカレッジするために地元の人が優先です。開発者なら誰でも知ってる外国の有名なフレームワーク開発者でも落選していました。採択率は15％程度で高くありません。採択者は4人いて、全員8/10以上のスコアのついたものでなければないそうです。</p>

<p>トーク内容は、アーキテクチャ、エンジニアのキャリア、プログラミング、セキュリティ、CI、QA、API、パフォーマンスなどは多岐に渡ります。
一方、特定のツールの使い方や最新情報、フルスタックのフレームワークの話などはあまりありません。</p>

<h3>フレームワーク</h3>

<p>何人かに聞いた範囲ではUKではSymfonyが多そうでした。しかし事前にリチャードさんに聞いてた通りフレームワークへの関心は低くあまり話題になりません。結局、使用者がそれぞれの価値観で使ってる印象でフレームワーク特有の話がしたい人はLaraconやSymfony Liveに行ってるのかもしれません。</p>

<p>スピーカーに限るとアーキテクトの方が多くフルスタックフレームワークよりそれぞれの問題領域に合わせてコンポーネント志向のフレームワークやインハウスフレームワークを作成している方が多い印象がありました。価値観それぞれで、道具の選定に多様性を感じました。</p>

<h3>Sayonara PHPNW</h3>

<p>アイデアやインスピレーションに繋がる話が好まれるとも聞きました。道具の作り方や問題の考え方、ソフトウエアパラダイム、コーディング技術、コミュニティやオープンソースへのコントリビュートのトークなどです。自身の取り組んだアプリケーション設計や、自らが参加しているオープンソースの話も少なくありませんでした。私は技術だけでなく、その人がどのように取り組んで来たかというストーリーのある話が好きで、PHPNWは正にその期待に答えてくれる場所でした。</p>

<p>開発する人をインスパイアするためのカンファンレンスというものであったと思うし、unconf含め３回登壇した時もそのつもりで挑みました。</p>

<p>思い出深いカンファレンスが無くなってしまったのは残念です。それがどういうものであったか国内のカンファレンスを運営してる人や参加者、これからコミニュティを運営しようとしている人にインスピレーションを与えることができたらと思い、また自分の記録としてこの記事を書きました。</p>

<ul>
<li><a href="https://goo.gl/photos/BnwWuBtJYo6b77158">phpnw13</a></li>
<li><a href="https://photos.app.goo.gl/Xuvk0y2dMPIIcwyj1">phpnw14</a></li>
<li><a href="https://photos.app.goo.gl/FNkJXa14ZcCd5hoH2">phpnw17</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/18/phpnw/">PHPNW17</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-18T23:00:00+09:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:00 pm</span></time>
        
           | <a href="/blog/2018/03/18/phpnw/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2018/03/18/phpnw/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>時間が経ってしまいましたが、2017年の秋にイギリスのリーズとマンチェスターで登壇した事を記事にします。</p>

<h2>トラブル発生</h2>

<p>行きの飛行のトランジットの時間がギリギリで、乗客は間に合ったのですが荷物の載せ替えが間に合わずスーツケースが未着、翌日宅配便で届くということになってしまいました。</p>

<p>教訓）トランジットの短い便は、絶対に必要なものは手荷物にすべし。その日の着替え、プレゼンの時はPCは手持ちで！</p>

<p>本番前日にスーツケースが届いたのですが開けるとなんとMacBookがありません！。盗難かと一瞬思いましたが「Mac を探す」アプリを起動すると9,294km離れたところで反応があるのが確認できました。つまり日本の家に単に忘れてただけ！😵&hellip; iCloudに助けられました。友人の奥さんにMacbook Airを借りて急場をしのぐことにします。</p>

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">Confirmed. My Macbook is 9294km away from me the day before the presentation. But the problem fixed thanks to <a href="https://twitter.com/mackstar?ref_src=twsrc%5Etfw">@mackstar</a> いつもすいません！&gt;&lt;</p>&mdash; Akihito Koriyama (@koriym) <a href="https://twitter.com/koriym/status/913478596219596806?ref_src=twsrc%5Etfw">2017年9月28日</a></blockquote>


<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h1>Sky Sports</h1>

<p>Sky Sportsというイギリスの衛星放送事業者でPrincipal Software Engineerの職につかれている<a href="https://www.linkedin.com/in/mackstar/">Richard McIntyre</a>氏の招きで、リーズにあるSky Sportsで登壇する機会をいただきました。
（Sky Sportsは（プレミアリーグの放映権を全て持っているぐらいの）世界でも最大級の放送事業者で、以前講演したBBC Sportsよりも規模の大きい放送事業者です。Skyはツールドフランスでも有名ですよね）</p>

<p><img src="/images/phpnw17/sky.jpg"></p>

<p><a href="https://photos.google.com/share/AF1QipNCkT5ddXqOHKwY1tjUcuSl7frI_s8fnLsBjUktalTj7k7JTITYVfjrWtPBT9Y-xQ?key=ajM5Y2c1ckdBckUtVXphS1NzM1RmdWY5TkxGeFJB">Sky Sports 2017</a></p>

<p>（Skyのカフェに小さなポスターが貼ってありました）</p>

<p>&ldquo;Crating rih universal React apps powered by RESTful PHP"と長くてかっこいいタイトルはRichardさんが考えてくれました。
「"Hypermedia APIは自己記述的でヘッドレスアプリケーションとして機能する。それにSSRのReact UIを組み合わせるアーキテクチャ」というのを紹介しました。</p>

<script async class="speakerdeck-embed" data-id="e5b2e9053a9647fca02b6e626e5f91a3" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<p>以前Sky SportsでReactのSSRを検討した時にはパフォーマンスに問題があって一度断念しているという話を聞いていたのと、ヘッドレスCMSの人気が出て来ているという話を聞いてたので、その解決法と"ヘッドレス"を含んだプレゼンテーションにしました。自由参加だったのですがその部署のほとんどの人に参加していただいたようです。</p>

<p>今回のチャレンジは「英語のスクリプトを用意しない。英語は下手でもいいから読まずに話す」でした。あらかじめ用意する英語よりも文章は下手になりますが、聞いてる方はトークを聞きに来ています。正しい英語を話す自信はありませんでしたが、これは弁論大会ではなくて技術トークなんだと、参加者は私の英語を採点するためではなく技術の話を「聞きに来ている」のだと自分を言い聞かせて臨みました。カフェのアットホームな雰囲気もあって、会議室のBBCの時ほどは緊張せずリラックスして話せてやっぱり読まずに話して良かったと思いました。</p>

<p>同じトークをphpnwカンファレンスのunconfでしました。</p>

<h1>PHPNW</h1>

<p>PHPNW(php north west)は2008年に始まり、今回参加した10回目の2017年phpnw17で幕を閉じました。</p>

<p><a href="http://conference.phpnw.org.uk/phpnw17/extras/previous-conferences/">http://conference.phpnw.org.uk/phpnw17/extras/previous-conferences/</a></p>

<p>そのうちカンファレンススピーカー枠で参加したphpnw2013、アンカンファレンス参加した2015、2017年と3回参加しました。</p>

<p><img src="/images/phpnw17/phpnw17.png"></p>

<p>イベントは通常三日間行われます。最初はカンファレンスの前日にあるTUTORIAL DAYです。</p>

<p><img src="/images/phpnw17/tutorail.png"></p>

<p>チュートリアルはカンファレンス料金とは別の代金が必要で1日で£250 (約37,000円)、半日で£145です。</p>

<p>チュートリアルの費用を会社に出してもらってる開発者も多く、面白いのはそれをサポートする仕組みがあることです。</p>

<p><img src="/images/phpnw17/ask_boss.png"></p>

<p>カンファレンスやチュートリアルに参加することがどれだけ意義があってそれが費用に見合うものかというbossを説得するPDF資料が用意されています（！）</p>

<p><img src="/images/phpnw17/ask_your_boss1.png">
<img src="/images/phpnw17/ask_your_boss2.png"></p>

<ol>
<li>素晴らしい従業員を引き留めることができる</li>
<li>あなたの"スーパースター"を育てることができる</li>
<li>未来への展望</li>
</ol>


<p>会社がお金を出したくなるような言葉が並びます。
他にも他の地方や外国から訪れている方のために、半日や一日観光などおすすめ観光情報も用意されていました。地元をプロモートしたいのだそうです。</p>

<h2>ハッカソン</h2>

<p>チュートリアルデーの夜はハッカソンです。 ハッカソンと言ってもチームに分かれて何かを競うわけではなくて、ソーシャル（懇親）が目的です。
「PHP-Excel」とか「Joind.in」とかプロダクト毎にテーブルが分かれていて、好きなテーブルに座りそれぞれのオープンソースのプロジェクトにコントリビュートします。</p>

<p>オープンソースのコントリビュートでカンファレンスを始める、そしてそのコントリビュートをソーシャルにする。素晴らしいと思います。</p>

<p><img src="/images/phpnw17/hackason.jpg">
(phpnw2013のハッカソン)</p>

<p>特にハッカソンに参加せずに他の参加者とおしゃべりするだけでもOKです。写真中央のスクリーン前にいる人たちはゲームで遊んでます。（ハットをかぶってる人はスピーカーの<a href="https://twitter.com/rosstuck">Ross Tuck</a>さん）</p>

<p>カンファレンスセンターにはバーと中庭があってゆっくり過ごせます。
<img src="/images/phpnw17/bar.jpg"></p>

<p>夜になると夜食も出ます。スピーカーの人達は事前にスピーカーディナーで別になっててちょっとしたコース料理を楽しむことができます。。ベジタリアンメニューとかどいう食事をしたいか事前にwebで選択できます。</p>

<p>今回初めて一人、地元の友人なしで行きました。食事の時間の時、BEAR.Sundayを使ってる<a href="https://twitter.com/kennybody">Kennyさん</a>を見つけて一緒のテーブルに混ぜてもらいました。</p>

<p><img src="/images/phpnw17/w_kieth_jake.jpg"></p>

<p>左の写真は<a href="https://twitter.com/GroovyCarrot">Jake</a>さん、iOSの<a href="https://www.youtube.com/watch?v=uG5DXypCEsk">NextGen UI</a>というUIで有名な開発者です。</p>

<p>Kennyさんは翌日はphpnwで初めてというバンド演奏でドラムを叩いてました。かっこいい！
（そのバンドのサイトをBEAR.Sundayで作りたいそうです）</p>

<p><img src="/images/phpnw17/kieth.jpg"></p>

<p>カンファレンスは二日あります。</p>

<p><img src="/images/phpnw17/day1.png"></p>

<p>1日目は開会挨拶（10分）、スポンサー紹介（15分）の後にオープニングキーノート(50分）と続きます。</p>

<p>4つのセッションが３トラックで行われます。ルームサイズはそれぞれ大中小。1つのセッションはどれもQA含めて50分。</p>

<ul>
<li>50分のキーノート</li>
<li>10分のインターバル</li>
<li>セッション（1）</li>
<li>☕️ 25分のブレイク</li>
<li>セッション(2)</li>
<li>☕️ 70分のランチ</li>
<li>セッション(3)</li>
<li>☕️ 25分のブレイク</li>
<li>セッション(4)</li>
<li>50分 Platium Sponsor &amp; Prize</li>
<li>50分のインターバル</li>
<li>19:00 夕食＆ソーシャル - 深夜</li>
</ul>


<p>ブレイクの時間はカンファレンスルームをみんな離れてホールで過ごします。
提供されたコーヒーやお菓子を手に、スポンサーブースを見たり聞いたばかりのセッションの感想を参加者同士で話し合ったりするソーシャルのための時間です。
時間25分と長めで振り返ったりブースも見れたりできるので良かったです。</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/fYTKm2oUzAg?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>


<p>（phpnw17でのキーノートの映像はまだ公開されていませんが同じ内容の映像がありました）</p>

<p>PHPの歴史と進化の話でした。</p>

<p>スライド <a href="http://talks.php.net/vienna17#/">http://talks.php.net/vienna17#/</a></p>

<p>中でも印象的だったのがphp7の移行を呼びかけるところ。</p>

<p>「世界には20億のサイトがあり、1000万台の物理サーバーが存在する。
そのうちの少なくも半分はPHPサーバー、しかしphp7はまだphp全体の5%（約25万台）しか使われてない。
しかしその5％でもサーバー使用料が$200M（210億円）、750MHの電力、375MkgのCO2がphp5に比べて節約できている。
これがもし100%になると.. 使用電力も二酸化炭素排出も減り、世界をより良い場所にすることができる。php7への移行を！」</p>

<p>php7のアップグレードは地球を救うことになります！😅</p>

<p>他にはオペコードの最適化が進んで、未使用のコードや未使用変数のコンパイルを行わないなどダメなコードほど恩恵が受けられることなども説明していました。これは7.1、7.2とバージョンが進むほど効果があるそうです。参加者が「じゃあWordPressはすごく早くなるのか？」と途中で聞いたらラスマスさんは苦笑しながら「いやWordPressのコードはスタイルは古いけどそんなに悪くないんだ」と答え、しかし「プラグインのコード知らないでしょ？」（会場爆笑）というやりとりもありました。</p>

<p>大規模CMSのアプリケーションアーキテクチャの話は印象に残りました。</p>

<script async class="speakerdeck-embed" data-id="f811eda608c44a57861094fd35a0cdbb" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>


<p>大規模というのは単に秒間リクエストの話だけはなく問題の複雑さの事で、それに対してどういうアーキテクチャやソフトウエア技術で解決するかというインスピレーションを得られる内容でした。ルーマニアのgeekを自称する方で、母でありアーキテクトであるというすごい方でした。</p>

<p>ちなみに日本のような参加者全員で聞く最後のLTはありません。スポンサーセッションと夕食、ソーシャルの時間に続いて1日目が終わります。</p>

<p><img src="/images/phpnw17/day2.png"></p>

<p>二日目は半日で終わりますが、これは遠方から来てる人たちがその日に帰れる配慮です。
１度だけ30分のBreakがありますが、半日しかないので1日目より速い進行です。</p>

<p>最後に25分のクロージングキーノートがあります。
<a href="https://joind.in/event/phpnw17/for-the-love-of-code">For The Love Of Code</a>というPHPコミュニティに関しての話でした。ちょっとハートフルな内容です。</p>

<p>&ldquo;The talk is centred around the idea of community. PHP has one of the best communities we know. Its people are passionate, enthusiastic, loyal, and smart. But, there is a problem. We somehow feel, whether we like to admit it or not, that for our community, our language, to be great, it must be at the cost of another community or another language. Perhaps a framework we don?t like so much, or another language that thinks is better than ours. We make little remarks, or take cheap shots at the ?competition?. But it doesn&rsquo;t have to be that way. When I started coding all those years ago I had no idea there would be hoards of other developers waiting to share ideas and pass on the knowledge - all for the love of code. Which is the real reason we?re all here. We all love code. The talk will revolve around the idea that all software-based communities have so much in common. That we all have a common purpose - to share and promote the thing we love. But we can promote our community without detracting from others. Using the philosophy of "Think Win-Win&rdquo; from The 7 Habits of Highly Effective People, I will discuss how shift in attitude can means we can all promote our beloved language and promote others too, and still win."</p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/MvBKuf22CHdgZz" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/johnnybifter/for-the-love-of-code-phpnw17" title="For the Love of Code - PHPNW17" target="_blank">For the Love of Code - PHPNW17</a> </strong> from <strong><a href="https://www.slideshare.net/johnnybifter" target="_blank">John Cleary</a></strong> </div></p>

<p>そのあとの終了の挨拶で「今年でphpnwの開催を最後にする」との突然の発表がありました。
直後にどよめきがあり、その後に拍手に代わりそして長いスタンディングオベーションになりました。主催者のジェレミーさんも壇上で言葉に詰まっています。</p>

<p><img src="/images/phpnw17/ending.jpg"></p>

<p>「ああ、それでキーノートがラスマスさんだったんだとか、迷ったけど今年来て良かったとか」とか様々な考えが頭に浮かびます。</p>

<p>10年続いたPHPNWは終わりました。やはり毎年の開催は大変な苦労で、10年を区切りと考えたそうです。
カンファレンス終わった後、一緒にクロージングキーノートを聞いてたJakeさんが彼のCIVICで空港まで送ってくれ、マンチェスターを後にしました。</p>

<h1>PHPNW</h1>

<p>そもそも私がPHPNWに参加することになったのは地元のリチャードさんがBEAR.Sundayを気に入って彼が応募し採択され共同発表する事になったからです。
その年のphpcon(東京)への応募は落選してて、初めてカンファレンスに登壇したのは日本ではなくPHPNWでした。</p>

<p>知り合いも沢山できて「今年は来てないの？」と前年に言われ参加したのが最後のphpnw17でした。</p>

<p><img src="/images/phpnw17/cup.jpg"></p>

<p>PHPNWとはどういうカンファレンスだったか改めて振り返ってみます。</p>

<p>参加者、特にスピーカーにオープンソースの開発者が多かったです。XdebugのDerickさん、phpDoumentorのMikeさん、ReactPHPのCeesさん、ZF/SlimのRobさん、Silex/YoloのIgor さん、BeHatのEverzetさん、HHVMのSaraMGさん、あげればきりがないくらい沢山います。私が気が付いていない人もいたでしょう。しかし有名オープンソースの開発者が必ず登壇してるという風でもなく聴衆としても参加してます。他にはDDDやBDDのエバンジャリストや、コミュニティリーダー、アプリケーションアーキテクトとかそういう人が登壇してる感じでした。</p>

<p>参加者のソーシャルを大事にするカンファレンスでした。ブレイクは25分と長く、スピーカーの話を聞く＆参加者とおしゃべりをするサイクルができています。スピーカー同士の交流が生まれやすいように、スピーカーディナーやランチなどスピーカー同士のソーシャルができる場も用意されていました。</p>

<p>スピーカーに対する負担を少なくするため、スピーカー1人につき"shadow"と呼ばれるスピーカーをサポートする人が一人つきます。発表当日の朝、一人の人が現れ「僕は今日あなたのshadowを務めるものです。」と挨拶がありました。かっこいい（！）機材や進行の確認、色々な疑問はshadowに投げると答えてたりshadowが分からないことは
他の人に訪ねてくれます。スピーカーがそれぞれの担当の人を探す必要がありません。</p>

<p>オーガナイザーのジェレミーさんに聞くと「スピーカーの人にはこのカンファレンスで話して良かったと思ってもらいたいんだ。このマグカップのギフトもその工夫の１つなんだ」と教えてくれました。</p>

<h2>unconf</h2>

<p>誰でも最初から流暢なトークができるわけではありません。人前で話すことに慣れてない方もいます。アンカフレンスはそういう方のためのものでもあります。トークの後にトークについてのレビューやアドバイスもしてくれます。私は最初にセッション枠で登壇して、次からunconfに参加で順番逆だと思うのですが、良い取り組みだと後で知りました。ちなみに担当の人によると、ほとんどのトーク初心者は緊張して喋りが早すぎてしまうという事でした。ゆっくり話しましょう。</p>

<h3>どういうトークが採択されているか</h3>

<p>トーク応募の項目には発表の概要と共に「なぜ、聴衆は貴方の話を聞かなければならないのか？」という項目があります。聴衆がお金と時間を使って聞く価値があるものを応募してほしい、その視点が無いものは我々は採択しないというメッセージです。トークのゴールを明確にする事で、採択者への理解の助けにもなるでしょう。そして地元の参加者をエンカレッジするために地元の人が優先です。開発者なら誰でも知ってる外国の有名なフレームワーク開発者でも落選していました。採択率は15％程度で高くありません。採択者は4人いて、全員8/10以上のスコアのついたものでなければいけないそうです。</p>

<p>トーク内容は、アーキテクチャ、エンジニアのキャリア、プログラミング、セキュリティ、CI、QA、API、パフォーマンスなどは多岐に渡ります。
一方、特定のツールの使い方や最新情報、フルスタックのフレームワークの話などはあまりありません。</p>

<h3>フレームワーク</h3>

<p>何人かに聞いた範囲ではUKではSymfonyが多そうでした。しかし事前にリチャードさんに聞いてた通りフレームワークへの関心は低くあまり話題になりません。結局、使用者がそれぞれの価値観で使ってる印象でフレームワーク特有の話がしたい人はLaraconやSymfony Liveに行ってるのだと思います。</p>

<p>スピーカーに限るとアーキテクトの方が多くフルスタックフレームワークよりそれぞれの問題領域に合わせてコンポーネント志向のフレームワークやインハウスフレームワークを作成している方が多い印象がありました。価値観それぞれで、道具の選定に多様性を感じました。</p>

<h3>Sayonara PHPNW</h3>

<p>アイデアやインスピレーションに繋がる話が好まれるとも聞きました。道具の作り方や問題の考え方、ソフトウエアパラダイム、コーディング技術、コミュニティやオープンソースへのコントリビュートのトークなどです。自身の取り組んだアプリケーション設計や、自らが参加しているオープンソースの話も少なくありませんでした。私は技術だけでなく、その人がどのように取り組んで来たかというストーリーのある話が好きで、PHPNWは正にその期待に答えてくれる場所でした。</p>

<p>開発する人をインスパイアするためのカンファンレンスというものであったと思うし、unconf含め３回登壇した時もそのつもりで挑みました。</p>

<p>思い出深いカンファレンスが無くなってしまったのは残念です。それがどういうものであったか国内のカンファレンスを運営してる人や参加者、これからコミニュティを運営しようとしている人にインスピレーションを与えることができたらと思い、また自分の記録としてこの記事を書きました。</p>

<ul>
<li><a href="https://goo.gl/photos/BnwWuBtJYo6b77158">phpnw13</a></li>
<li><a href="https://photos.app.goo.gl/Xuvk0y2dMPIIcwyj1">phpnw14</a></li>
<li><a href="https://photos.app.goo.gl/FNkJXa14ZcCd5hoH2">phpnw17</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/11/10/re-code-reading/">Re: BEAR.Sundayをコードリーディングしたのでメモ程度にアウトプットする</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-11-10T11:30:28+09:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>11:30 am</span></time>
        
           | <a href="/blog/2017/11/10/re-code-reading/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2017/11/10/re-code-reading/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>このエントリーは
OTOBANK Engineering Blogの<a href="http://engineering.otobank.co.jp/entry/2017/10/20/120729">BEAR.Sundayをコードリーディングしたのでメモ程度にアウトプットする</a>のReplyエントリーで、コードリーディングを補間する内容です。(<a href="https://twitter.com/kalibora">@kalibora</a>さん、ブログ記事ありがとうございます。)</p>

<p>元記事と合わせてお読みください。</p>

<blockquote><p>3つのエントリポイント</p>

<p>何はともあれ開始地点であるエントリポイントを見てみます。 webからのアクセス用と、CLI用とで3つありました。
それぞれの違いは単純にコンテキストを変えているだけ。 そして bootstrap.php を呼んでいるのみ。</p></blockquote>

<p>エントリポイントではコンテキスト(<code>$context</code>)を指定して<code>bootstrap.php</code>ファイルを読み込みます。</p>

<p>３つのファイルは単に例としてあるだけなので、使用してないファイルは削除しても構いません。同様に新しいコンテキストファイルを追加するのも自由です。</p>

<p>条件を指定することもできます。例えばURIが<code>/api/</code>で始まるパスの時にはAPIとしてJSONを返し、その他はHTMLで返すサービスの時はこのようにします。</p>

<figure class='code'><figcaption><span>Webコンテキストによるアプリケーションコンテキストの変更</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$context</span> <span class="o">=</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_URI&#39;</span><span class="p">],</span> <span class="s1">&#39;/api/&#39;</span><span class="p">)</span> <span class="o">!==</span> <span class="k">false</span> <span class="o">?</span> <span class="s1">&#39;hal-api-app&#39;</span> <span class="o">:</span> <span class="s1">&#39;html-app&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>bootstrap.phpでは何をしているのか？
このように非常に短いスクリプトで全体の流れを記述しているのみ。</p></blockquote>

<p>解説されてるようにスクリプト全体を記述しています。さらに短く記述するとこのようになります。</p>

<figure class='code'><figcaption><span>bootstrap.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$context</span> <span class="o">=</span> <span class="nx">PHP_SAPI</span> <span class="o">===</span> <span class="s1">&#39;cli&#39;</span> <span class="o">?</span> <span class="s1">&#39;cli-hal-app&#39;</span> <span class="o">:</span> <span class="s1">&#39;hal-app&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$app</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApp</span><span class="p">(</span><span class="s1">&#39;MyVendor\MyApp&#39;</span><span class="p">,</span> <span class="nv">$context</span><span class="p">);</span>
</span><span class='line'><span class="nv">$request</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">match</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">);</span>
</span><span class='line'><span class="k">try</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$page</span> <span class="o">=</span> <span class="nv">$app</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">resource</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="p">{</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">}</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">)(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">)</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">transfer</span><span class="p">(</span><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">responder</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">);</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">error</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="nv">$e</span><span class="p">,</span> <span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">transfer</span><span class="p">();</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>バッチ処理ならルーターも不要なのでこのようになります。</p>

<figure class='code'><figcaption><span>ミニマムなブートストラップコード</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">try</span> <span class="p">{</span>
</span><span class='line'>    <span class="p">(</span><span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApp</span><span class="p">(</span><span class="s1">&#39;MyVendor\MyApp&#39;</span><span class="p">,</span> <span class="s1">&#39;prod-cli&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">resource</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">post</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="s1">&#39;/path/to/command&#39;</span><span class="p">)()</span>
</span><span class='line'>        <span class="o">-&gt;</span><span class="na">transfer</span><span class="p">(</span><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">responder</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">);</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">error</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="nv">$e</span><span class="p">,</span> <span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">transfer</span><span class="p">();</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>さらに短く。単にコンソールでechoする出力で例外処理も不要なら一行になります。</p>

<figure class='code'><figcaption><span>一行ブートストラップコード</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">echo</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">)</span>
</span><span class='line'><span class="o">-&gt;</span><span class="na">getApp</span><span class="p">(</span><span class="s1">&#39;MyVendor\MyApp&#39;</span><span class="p">,</span> <span class="s1">&#39;prod-cli&#39;</span><span class="p">)</span>
</span><span class='line'><span class="o">-&gt;</span><span class="na">resource</span>
</span><span class='line'><span class="o">-&gt;</span><span class="na">post</span>
</span><span class='line'><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="s1">&#39;/path/to/command&#39;</span><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>


<p>複数のアプリを組み合わせた出力を得たい場合には以下のようにできます。</p>

<figure class='code'><figcaption><span>複数アプリを統合</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$name</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApp</span><span class="p">(</span><span class="s1">&#39;MyVendor\MyApp1&#39;</span><span class="p">,</span> <span class="s1">&#39;prod-cli&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">resource</span><span class="o">-&gt;</span><span class="na">get</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">)(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bear&#39;</span><span class="p">)[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
</span><span class='line'><span class="nv">$role</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApp</span><span class="p">(</span><span class="s1">&#39;MyVendor\MyApp2&#39;</span><span class="p">,</span> <span class="s1">&#39;prod-cli&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">resource</span><span class="o">-&gt;</span><span class="na">get</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="s1">&#39;/role&#39;</span><span class="p">)(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bear&#39;</span><span class="p">)[</span><span class="s1">&#39;role&#39;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="nb">json_encode</span><span class="p">([</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span> <span class="s1">&#39;role&#39;</span> <span class="o">=&gt;</span> <span class="nv">$role</span><span class="p">]);</span>
</span></code></pre></td></tr></table></div></figure>


<p>アプリケーション全体を実行するスクリプトがフレームワーク本体にではなく、アプリケーションにあるので自由にカスタマイズできます。</p>

<blockquote><p>$app とは何者なのか？</p></blockquote>

<p><code>$app</code>は<strong>オブジェクトグラフ</strong>のルートオブジェクトです。</p>

<p>オブジェクトグラフとは何でしょうか？</p>

<blockquote><p>オブジェクト指向のアプリケーションは相互に関係のある複雑なオブジェクト網を含んでいます。オブジェクトはあるオブジェクトから所有されているか、他のオブジェクト（またはそのリファレンス）を含んでいるか、そのどちらかでお互いに接続されています。このオブジェクト網をオブジェクトグラフと呼びます。</p></blockquote>

<p>DIのベストプラクティスとしてGoogleのGuiceでは以下の方法を勧めています。</p>

<blockquote><p>Your code should deal directly with the Injector as little as possible. Instead, you want to bootstrap your application by injecting one root object. The container can further inject dependencies into the root object&rsquo;s dependencies, and so on recursively. In the end, your application should ideally have one class (if that many) which knows about the Injector, and every other class should expect to have dependencies injected.</p>

<p>開発者のコードは、可能な限りInjectorを直接使うのを避けなければなりません。代わりに、1つのルートオブジェクトを注入してアプリケーションをブートストラップします。このルートオブジェクトのクラスは、依存する他のオブジェクト(<code>$app-&gt;router</code>や<code>$app-&gt;resourece</code>)を取得するためのDIする必要がり、依存するオブジェクトのクラスも同様に依存するオブジェクトのためのDIが必要です。
その代わりにルートの一つのオブジェクトに注入します。コンテナは、依存関係をルートオブジェクトの依存関係に注入を再帰的に行うことができます。
あなたのアプリケーションはInjectorについて知っている1つのクラスだけを持つのが理想です。その他のすべてのクラスは依存関係を注入することを期待するべきです。</p></blockquote>

<p>オブジェクト網の一番最初のルートのオブジェクトが<code>$app</code>です。</p>

<p>可能な限りインジェクターをユーザーが直接使うことを避けるべきです。ライブラリにおいてもインジェクターを知るクラスを原則無しにします。ユーザーがコンテナを直接操作するのはDIではなく、アンチパターンのサービスロケーターです。(オブジェクトは他のオブジェクトの依存になっているのでで、通常のサービスクラスはユーザーがコンテナを触らずともDIで取得できるはずです。)</p>

<p>BEAR.Sundayでは基本２箇所だけ。ルートオブジェクトを生成する<code>Bootstrap</code>とリソースを生成するためのファクトリークラスです。</p>

<p><code>bootstrap.php</code>ではその<code>$app</code>のプロパティだけを使ってアプリケーションを実行します。</p>

<p>リソースオブジェクトリクエスを埋め込む<code>@Embed</code>の機能は実質リソースオブジェクト(ResourceObject)のDIです。<code>@Embed</code>や<code>@Link</code>を使うとリソースファクトリーのコードを使うことなくルートの<code>$app</code>の取得の時のみインジェクターが利用されます。ResourceObject内では<code>$this-&gt;resource-&gt;uri()</code>でリソースオブジェクトを生成するより、<code>@Embed</code>でインジェクトすることを考慮してみましょう。</p>

<blockquote><p>AppInjector？
AppInjector::getInstance() メソッドでは、指定したinterfaceに束縛されたインスタンスを、依存解決済みで返してくれる。</p></blockquote>

<p>アプリケーションの<code>名前</code>と<code>コンテキスト</code>とインターフェイス（また抽象クラス）指定すると、インスタンスを取得することができるのがAppInjector（アプリケーションディペンデンシーインジェクター）です。
BEAR.Sundayでは複数のアプリケーションがそれぞれ名前空間を持ち同時に存在できます。</p>

<p><code>AppInjector</code>はプロダクションコードでは（Gooogle Guiceのベストプラクティスの通り）Bootstrapで一度使われるだけですが、テストに有用です。</p>

<p>無名クラスを使って以下のように、モックやスタブを束縛することができます。</p>

<figure class='code'><figcaption><span>無名クラスで上書き束縛</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testAnonymousClassBinding</span><span class="p">()</span>
</span><span class='line'>    <span class="nv">$injector</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppInjector</span><span class="p">(</span><span class="s1">&#39;FakeVendor\HelloWorld&#39;</span><span class="p">,</span> <span class="s1">&#39;hal-app&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nv">$module</span> <span class="o">=</span> <span class="k">new</span> <span class="k">class</span> <span class="nc">extends</span> <span class="nx">AbstractModule</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">protected</span> <span class="k">function</span> <span class="nf">configure</span><span class="p">()</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="nx">FooInterface</span><span class="o">::</span><span class="na">class</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="nx">Foo</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'><span class="nx">app</span><span class="s1">&#39;);</span>
</span><span class='line'><span class="s1">    $index = $injector-&gt;getOverrideInstance($module, Index::class);</span>
</span><span class='line'><span class="s1">    $name = $index([&#39;</span><span class="nx">id</span><span class="s1">&#39; =&gt; 1])-&gt;body[&#39;</span><span class="nx">name</span><span class="s1">&#39;];</span>
</span><span class='line'><span class="s1">    $this-&gt;assertSame(&#39;</span><span class="nx">BEAR</span><span class="err">&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://bearsunday.github.io/manuals/1.0/ja/test.html">http://bearsunday.github.io/manuals/1.0/ja/test.html</a></p>

<blockquote><p>（最初の1回目の場合は、依存解決したものをすべてフラットなPHPファイルとしてダンプする。これをコンパイル処理と呼んでいるみたい）</p></blockquote>

<p>全ての依存ファイルのファクトリーコードは生のPHPファイルとしてダンプされます。インターフェイスだけで作られたシステムは、実際にどのオブジェクトがどのように生成されるか明らかにするのが難しい場合がありますがファクトリークラスを見れば明らかです。シングルトンかプロトタイプかも確認できます。詳細は<a href="http://bearsunday.github.io/manuals/1.0/ja/di.html">DI</a>のデバックをご覧ください。</p>

<blockquote><p>$contexts = cli-hal-api-app であれば<code>MyVendor\MyPackage\Module\AppModule</code>&hellip;の順番で読み込まれる。しかし優先順位はその逆である。</p></blockquote>

<p>これはGoFのデコレーターパターンです。最初に<code>AppModule</code>で束縛されたDIとAOPの設定を外側で"デコレート" 変更しています。</p>

<p>モードで振る舞いを変更するのではなく、後読み優先のモジュールで束縛したクラスを変更して振る舞いを変えています。
<code>cli-hal-api-app</code>であれば<code>AppModule</code>でされている束縛はその後の<code>ApiModule</code>や<code>CliModule</code>で変更することができます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">foo</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nv">$isDebug</span> <span class="o">=</span> <span class="nx">Config</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;app.debug&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nv">$isDebug</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">logger</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>などとメソッド内でモードを判定して、振る舞いを変えるのではなく</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">LoggerInterface</span> <span class="nv">$logger</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">logger</span> <span class="o">=</span> <span class="nv">$logger</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">foo</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">logger</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span> <span class="c1">// 開発以外は何もしないNullLoggerが束縛されている</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>上記のように<code>LoggerInterface</code>に対する束縛をモジュールで変更します。条件や状態を少なくすることは、コード品質の向上に役立ちます。</p>

<blockquote><p>$requestとは？
HTTPリクエストから、BEARで扱う形式への変換、マッピングというのがこの処理の肝なのではないだろうか。</p></blockquote>

<p>その通りです。WebリクエストをPHPリクエストに変える（ディスパッチ）のためのルーターの結果の値オブジェクト <a href="https://github.com/bearsunday/BEAR.Sunday/blob/1.x/src/Extension/Router/RouterMatch.php">RouterMatch</a>です。</p>

<p><code>$request</code>には<code>$method</code>、<code>$path</code>、<code>$query</code>の値が保存されています。<code>$path</code>がリソースクラスに、$methodがリソースクラスのメソッドに、
名前付き引数（named parameters)の$queryがPHPの（順序）引数(oredered parameters)に変換されます。</p>

<p>リソースクラスではWebコンテキスト($_SERVERなどの値)がどのようになってるかを調べ回るようなコードは避けるべきで、リソースクラスの外側でWebコンテキストの値を全て単なるPHPの値に変換しておきます。そうすることコンソールとWebのどちらでも実行が可能でテストが容易なコードになります。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$page</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">resource</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">}</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">)(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>$pageとは？</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&gt;</span> <span class="nv">$page</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">resource</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">}</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">path</span><span class="p">)(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>元記事で順番に辿ってる通りです。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&gt;</span> <span class="nv">$resource</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">resource</span><span class="p">;</span> <span class="c1">// BEAR\Resource\Resource</span>
</span></code></pre></td></tr></table></div></figure>


<p>リソースクラアイントが取得され</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$resource</span> <span class="o">=</span> <span class="nv">$resource</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">;</span> <span class="c1">// BEAR\Resource\Resource</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>get</code>リクエストをプロパティとして保存します</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$request</span> <span class="o">=</span> <span class="nv">$resource</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">(</span><span class="s1">&#39;app://self/path/to&#39;</span><span class="p">);</span> <span class="c1">// BEAR\Resource\Request</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>uri()</code>はリクエストオブジェクトののファクトリーメソッドです。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$page</span> <span class="o">=</span> <span class="nv">$request</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;hoge&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fuga&#39;</span><span class="p">]);</span> <span class="c1">// BEAR\Resource\ResourceObject</span>
</span></code></pre></td></tr></table></div></figure>


<p>リクエストオブジェクトは<code>__invoke</code>を実装しているので関数のように直接実行できます。<code>__toString</code>メソッドも実装しているので文字列評価すると文字列になります。この時の文字がはリソースの状態の表現(representational resource state)です。</p>

<blockquote><p>今回のまとめ
$app が面白いですね。全部そこにまとまっているっていうのが。</p></blockquote>

<p>$appはアプリケーションはシリアライズ可能でプロダクションではキャッシュされて実行されます。
１つのオブジェクト網なのでビジュアライゼーションも可能です。</p>

<p><img src="/images/blog/app.png" alt="$app" />(<a href="http://koriym.github.io/print_o/v1/libs/bear.sunday.html">http://koriym.github.io/print_o/v1/libs/bear.sunday.html</a>)</p>

<p><a href="http://koriym.github.io/print_o/v1/libs/bear.sunday.html">$appのビジュアライゼーション</a></p>

<p>var_dump()などでは表現できないシングルトンオブジェクトなども表現できていることに気づかれるでしょう。重大なエラーが発生した時にバックトレースばかりでなく、<code>/var/log/</code>フォルダにあるログで<code>$app</code>がどのように生成されているかを確認することもできます。</p>

<p>アノテーションやDI、codegenを用いたAOPコード作成など膨大な本来は膨大な初期化コストがかかりますが、<code>$app</code>を１つのオブジェクトとして保存することにより<a href="https://github.com/kenjis/php-framework-benchmark">パフォーマンスの問題を解決</a>しています。ResourceObjectも全てが最初にコンパイル（ファクトリーコードの生成）されるので、依存解決の問題がプログラムの途中で発生することがないと言うメリットもあります。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/07/28/an-interface-as-an-api/">An Interface as an API</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-07-28T02:59:49+09:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>2:59 am</span></time>
        
           | <a href="/blog/2017/07/28/an-interface-as-an-api/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2017/07/28/an-interface-as-an-api/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For extensions, I encourage you to copy entire class and modify it. Does this sound too wild ? Here are my thoughts.</p>

<p>Suppose we make a <code>protected</code> method for future modification. Is this a symptom of violating SRP? If we separate the “extensible concern” and “core concern”, why not separate them as extensible dependency objects in order to conserve SRP?</p>

<p>Yes we loose the some convenience. But a true DI system give us more flexibility with ease. Inherited modification needs hard coded relationships. The modifications and the original class become tightly coupled.  In other words, modification of dependency object injection can be done by context and we can then draw the object graph more freely.</p>

<p>Just conform to DIP, seriously….</p>

<p>An ‘unchangeable public methods and no protected method policy’ encourage us to use the <em>final</em> keyword. This helps makes the class stable and closed. The @api annotation may then be needed less.</p>

<p>&ndash; moved from <a href="http://koriym.tumblr.com/post/66663678471/an-interface-as-an-api">http://koriym.tumblr.com/post/66663678471/an-interface-as-an-api</a> (11 Nov 2013)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/04/php7-dot-0-0/">PHP7.0.0</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-04T11:00:00+09:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:00 am</span></time>
        
           | <a href="/blog/2015/12/04/php7-dot-0-0/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2015/12/04/php7-dot-0-0/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>2011年</h1>

<p>今から４年前の2011年12月17日(土)に東京で「PHP Apocalypse」なるイベントが開催されました。</p>

<p><a href="http://labs.gree.jp/blog/2011/12/4367/">http://labs.gree.jp/blog/2011/12/4367/</a></p>

<p>タイトルが示すようにちょっと変わったイベントでした。
冒頭のセッションで「PHPに未来を感じるか？」という問いがあり、周りを見回すと参加者で手をあげてるのはなんと自分一人。
その時のエントリーがあります。</p>

<p>PHP: Dis Is It.
<a href="http://koriym.github.io/2011/12/php-dis-is-it/">http://koriym.github.io/2011/12/php-dis-is-it/</a></p>

<p>PHPはカリスマがいない。特定のイデオロギーを持たず、変化に躊躇がない。
漸進的な進化を継続可能でそれを実践するものには未来がある。そう考えたのです。
よく問題とされることは単に詳細の話で深刻なものではないとも考えました。</p>

<p>そして４年が経ちました。</p>

<p>サーバーサイドの言語で<a href="http://w3techs.com/technologies/overview/programming_language/all">80%のシェア</a>を持ち、エコシステムは大きく前進し、言語もPHP5.4(2012年3月)、PHP5.5(2013年7月)、PHP5.6(2014年8月)と高い互換性を維持しつつバージョンアップを繰り返し2014年にはFacebookのPHP"Hack"も公開されました。未来がないどころではなく、
composerの登場もありました。言語もPHPコミュニティもエコシステムも全てがこの４年で大きく進化しました。</p>

<p>そうです、未来がないと考えた参加者の予想は見事なくらい大外れしたのです。</p>

<p>＃ PHP 7.0.0</p>

<p>そして本日2004年以来のメジャーバージョンアップ7.0.0がリリースされました！
素晴らしい！！おめでとうございます！！！</p>

<p>先日米国ワシントンで開催されたPHP Worldのアンソニー・フェラーラさんによる基調講演<a href="https://www.youtube.com/watch?v=MWTe-iswnqc">PHP7 and Beyond: The Future of PHP </a>をYouTubeでみました。
その中で「Victory for PHP」と話します。「PHPはプログラムを始めたばかりの初心者から、大企業のシニアまで、最小のWebサイトから世界最大級のサイトまで全ての人に力を与える。
特定のイディオマティックなプログラミングパラダイムを押し付けることもない。ユーザーは選択可能で、可能な限り"&ldquo;許される"PHP。」</p>

<p>そして以前アンドロイドの<a href="https://www.android.com/intl/ja_jp/be-together-not-the-same/">Adキャンペーン</a>で使われていた言葉を紹介します。</p>

<p>”Be together, Not the same"
<a href="https://www.youtube.com/watch?v=vnVuqfXohxc">https://www.youtube.com/watch?v=vnVuqfXohxc</a></p>

<p>皆が同じになる必要はない。それぞれが違うアイデンティティを誇り、尊重しあい、しかし一緒に進もう。
多様性を乱立と呼び問題視するのではなく、相互に影響しあってコミュニティ全体を前進させるための仕組みと考えましょうと。
素晴らしい！小さなプロジェクトにずっと取り組んでいる身に響く言葉です。</p>

<p>PHP7のリリースおめでとうございます！
多様性を享受し高い互換性を維持しながらコミュニティドライブで変化を続けていくPHP。未来は開けてます！！</p>

<p>再度質問「PHPに未来を感じますか？」</p>

<p>YES YES YES !!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/01/phpconfuk2015/">基調講演「全てを結ぶ力」(2015)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-01T00:44:00+09:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>12:44 am</span></time>
        
           | <a href="/blog/2015/07/01/phpconfuk2015/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2015/07/01/phpconfuk2015/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>2015/06/27 10:20AM 福岡FFB HALL</h2>

<script async class="speakerdeck-embed" data-id="55b2bbd1f70847408c0e23ec371616d8" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>


<p>　</p>

<h2>PHP20周年</h2>

<p>福岡で初めてのPHPカンファレンスが開催され、その基調講演を行う機会をいただきました。
今年はPHPが生まれて20年の記念すべき年です。アニバーサリーに行う講演ということでPHPの"真ん中"は何処から来たのか、そのオリジンを問いそして祝福するような話をしたいと考えました。</p>

<p>ちょうど一年前の6月28日（福岡は6月27日！）に去年のPHPカンファレンス関西が行われ、同名のタイトルの講演<a href="http://koriym.github.io/blog/2014/06/29/phpkansai2014/">全てを結ぶ力</a>を行ったのですが、
今回も沢山の方に聞いていただきました。ありがとうございました。</p>

<p>基調講演に続いて小ホールで直ぐに「YOUR.Sunday」という講演をしました。後ろは立ち見でびっしり、会場から人が溢れそうなくらいの方に聞いていただきました。
聴衆との距離が近い小ホールには一体感があって良かったと思います。</p>

<h2>全てを結ぶ力</h2>

<p>当初講演内容がなかなか決まらず、BEAR.Sundayのチームの人や@cakephperさんには度々相談しました。二つ案を考え、結局どちらもすることになりました。
基調講演の直前のリハーサルはエキサイトの人達に協力していただきました。福岡入りしてからもYOUR.Sundayのことで@kuma_nanaさんや@madapajaさんにアドバイスいただきました。
みなさん、ありがとうございました。</p>

<p>最初の開催ということで大変なことも多かったと思いますが、スタッフの方たちの工夫や熱意が伝わりました。主催者、登壇者、聴衆、それぞれの参加者の距離が近く、皆で作りあげたカンファレンスだと感じました。
PHPの生まれた1995年を懐かしいという人もいたし、PHPと自分は同い年だという人もいました。それだけ年齢が違う人々が集まり、多様な人たちが結ばれている場でした。「全てを結ぶ力」はここでも働いていたのです！</p>

<p><a href="/images/phpconfuk2015/kanpai0.jpg"><img src="/images/phpconfuk2015/kanpai0s.jpg"></a>
<a href="/images/phpconfuk2015/kanpai1.jpg"><img src="/images/phpconfuk2015/kanpai1s.jpg"></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/08/haphpy-birthday/">HaPHPy Birthday PHP</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-08T19:03:00+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:03 pm</span></time>
        
           | <a href="/blog/2015/06/08/haphpy-birthday/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2015/06/08/haphpy-birthday/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>HaPHPy Birthday PHP, 20 years old today !</p>

<p>PHP 20周年おめでとう！</p>

<p><img src ="/images/phpkansai2014/subete-wo-musubu-chikara.010.jpg"></p>

<p>今から20年前の6/8日にPHPのクリエーターの<a href="http://en.wikipedia.org/wiki/Rasmus_Lerdorf">Rasmus</a>さんが
初めてPHPを"Personal Home Page Tools"としてソースコードを共有しました。</p>

<p>世界の82%のWebサイトがPHPで動いてます。20周年おめでとう！おめでとう！!</p>

<p>こんなおめでたい日にお知らせがあります。今月27日に開催される記念すべき第一回の<a href="http://phpcon.fukuoka.jp/">PHPカンファレンス福岡</a>の基調講演をすることになりました。
タイトルは「<strong>全てを結ぶ力</strong>」です。</p>

<p>基調講演の他に25分のセッションも行います。こちらのタイトルは「<strong>YOUR.Sunday</strong>」です。</p>

<p>Excited to announce I&rsquo;ll be giving the opening keynote at #phpconfuk15 !</p>

<p>福岡でお会いしましょう。よろしくお願いします。
( ´ ▽ ` )ﾉ</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/31/first-bear-sunday-stable-release/">First BEAR.Sunday Stable Release !</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-31T18:50:00+09:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>6:50 pm</span></time>
        
           | <a href="/blog/2015/05/31/first-bear-sunday-stable-release/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2015/05/31/first-bear-sunday-stable-release/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>BEAR.Sundayの初めてのstableバージョンを<a href="https://github.com/bearsunday/BEAR.Sunday/releases/tag/1.0.0">リリース</a>しました。</p>

<p>たくさんの方々にお世話になりました。@mackstar 日本と欧米の開発事情に精通していて様々なアドバイスをいただきました。
リチャードさんのアドバイスは一貫して、「無駄を省いていく」というもので日本人以上に日本人なZenの心も持ち主です。彼のおかげでイギリスのカンファレンスで登壇することもできました。</p>

<p>Lithium開発者<a href="https://twitter.com/nateabele">@nateable</a> さんは私が初めて会ったフレームワーク設計者です。様々な質問を伺い刺激になりました。
その後、今度は海外のカンファレンスで何度も<a href="http://sssslide.com/speakerdeck.com/nateabele/designing-hypermedia-apis">BEAR.Sunday</a>や<a href="http://sssslide.com/speakerdeck.com/nateabele/the-future">私自身</a>を紹介してもらって、
BEAR.Sunday開発の継続する<a href="https://twitter.com/nateabele/status/391317896615714817">自信</a>にもなりました。
CakePHP3のコアディベロッパーの <a href="https://twitter.com/jose_zap">@jose_zap</a>さんはCakePHP3のORMのモジュールを提供してくれました。Ray.Diを実務で使用されていて様々なフィードバックをいただいてAOP使用例も参考になりました。</p>

<p>初期の頃の試みとしてPHPメンターズの <a href="https://twitter.com/hidenorigoto">@hidenorigoto</a>さん、 <a href="https://twitter.com/iteman">@iteman</a> さん、<a href="https://wiki.php.net/rfc/shortsyntaxforarrays">array syntax</a>の <a href="https://twitter.com/rsky">@rsky</a>rsky さんとオンラインmeetupでその時の「これからの野望」を色々聞いて頂きました。またリアルなmeetupは<a href="https://twitter.com/NEKOGET">@NEKOGET</a>, <a href="https://twitter.com/brtriver">@brtriver</a>, <a href="https://twitter.com/kuma_nana">@kuma_nana</a>, <a href="https://twitter.com/zumkimochi">@zumkimochi</a>, <a href="https://twitter.com/zingooo">@zingooo</a> さん他お世話になりました。参加してくれたみなさんもありがとうございました。
Symfonyユーザー会でも何度もお話させていただきました。(BEAR.Sundayしかなかった回がありました！)<a href="https://github.com/Ray-Di/Ray.OAuthModule">OAuthModule</a>のモジュールをかいてくれた <a href="https://twitter.com/kawanamiyuu">@kawanamiyuu</a> さん、<a href="https://github.com/madapaja/Madapaja.TwigModule">TwigModule</a>の <a href="https://twitter.com/madapaja">@madapaja</a> さん、FakeModuleの <a href="https://twitter.com/shingo-kumaagi">@shingo-kumaagi</a> さん
0.x版でPHPtalの<a href="https://twitter.com/tanakahisateru">@tanakahisateru</a>さん。BlogやQiitaでBEAR.Sundayの記事を書いてくれたカルテットコミュニケーションズの <a href="https://twitter.com/qckanemoto">@qckanemoto</a> さんや <a href="https://twitter.com/77web">@77web</a> さん
　イラストをかいてくれた <a href="https://twitter.com/tdakak">@tdakak</a> さん、ベア吉ステッカーで協力してくれたshimadaさん、reikoさん
エキサイトの <a href="https://twitter.com/usomillp">@usomillp</a> さん、<a href="https://twitter.com/gokigendori">@gokigendori</a>さん、iwafujiさん、fukushimaさん、kobayashiさん、toshinaiさん他
BEAR.Saturdayの時からずっとBEARのファンでいてくれる <a href="https://twitter.com/ryo88c">@ryo88c</a> <a href="https://twitter.com/zingooo">@zingooo</a> <a href="http://profile.hatena.ne.jp/stellaqua/">TOM</a> さん
大勢の方にコードやアイデアのコントリビュートをいただきました。<a href="https://twitter.com/iteman">@iteman</a> にはフレームワークの拡張点として視点、
<a href="https://twitter.com/mugeso">@mugeso</a>さんや<a href="https://twitter.com/kenji_s">@kenji_s</a>さんにはいくつものPR、
<a href="https://twitter.com/hidenorigoto">@hidenorigoto</a>さんには<a href="http://phpmentors.jp/post/43944158326/web-db-press">雑誌で紹介</a>していただきました。<a href="https://twitter.com/kuma_nana">@kuma_nana</a>には音声入りの画面チュートリアルをつくってもらいました。</p>

<p>海外の方にもお世話になりました。Guiceの使用経験もないのにRay.Diをつくっていた私に<a href="https://twitter.com/akkie">@akkie</a>は色々と教えてくれました。
<a href="https://twitter.com/craigjbass">@craigjbass</a>とのディスカッションはRay.Compiler誕生のきっかけになりました。<a href="https://twitter.com/auraphp">@auraphp</a>には大きな影響を受けいくつもの指針を得ました。
リードの<a href="https://twitter.com/pmjones%E3%82%84">@pmjones</a>さんや精力的に活動されている<a href="https://twitter.com/harikt">@harikt</a>さんに感謝したいと思います。</p>

<p>下記はGitHubでのコントリビューターリストです。meetupに参加してくれた方、ブログ記事を投稿してくれた方、フィードバックをくれた方、ベア吉の好きな人、関心をもってくれた方全ての方に感謝します。
これからもよろしくお願いします。</p>

<p><a href="http://bearsunday.github.io/">http://bearsunday.github.io/</a></p>

<p><a href="https://github.com/akkie"><img alt="akkie" src="https://avatars.githubusercontent.com/u/307006?v=3&s=117" width="117"></a>
<a href="https://github.com/mackstar"><img alt="mackstar" src="https://avatars.githubusercontent.com/u/197328?v=3&s=117" width="117"></a>
<a href="https://github.com/zukimochi"><img alt="zukimochi" src="https://avatars.githubusercontent.com/u/529051?v=3&s=117" width="117"></a>
<a href="https://github.com/yuya-takeyama"><img alt="yuya-takeyama" src="https://avatars.githubusercontent.com/u/241542?v=3&s=117" width="117"></a>
<a href="https://github.com/yutakachiba"><img alt="yutakachiba" src="https://avatars.githubusercontent.com/u/5999747?v=3&s=117" width="117"></a>
<a href="https://github.com/yoshikitanaka"><img alt="yoshikitanaka" src="https://avatars.githubusercontent.com/u/460480?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/vlakarados"><img alt="vlakarados" src="https://avatars.githubusercontent.com/u/386678?v=3&s=117" width="117"></a>
<a href="https://github.com/tomverran"><img alt="tomverran" src="https://avatars.githubusercontent.com/u/1388226?v=3&s=117" width="117"></a>
<a href="https://github.com/tanakahisateru"><img alt="tanakahisateru" src="https://avatars.githubusercontent.com/u/403893?v=3&s=117" width="117"></a>
<a href="https://github.com/shingo-kumagai"><img alt="shingo-kumagai" src="https://avatars.githubusercontent.com/u/7978290?v=3&s=117" width="117"></a>
<a href="https://github.com/sasezaki"><img alt="sasezaki" src="https://avatars.githubusercontent.com/u/42755?v=3&s=117" width="117"></a>
<a href="https://github.com/remore"><img alt="remore" src="https://avatars.githubusercontent.com/u/424277?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/qckanemoto"><img alt="qckanemoto" src="https://avatars.githubusercontent.com/u/4360663?v=3&s=117" width="117"></a>
<a href="https://github.com/nishigori"><img alt="nishigori" src="https://avatars.githubusercontent.com/u/928692?v=3&s=117" width="117"></a>
<a href="https://github.com/nateabele"><img alt="nateabele" src="https://avatars.githubusercontent.com/u/18288?v=3&s=117" width="117"></a>
<a href="https://github.com/MugeSo"><img alt="MugeSo" src="https://avatars.githubusercontent.com/u/250446?v=3&s=117" width="117"></a>
<a href="https://github.com/malukenho"><img alt="malukenho" src="https://avatars.githubusercontent.com/u/3275172?v=3&s=117" width="117"></a>
<a href="https://github.com/madapaja"><img alt="madapaja" src="https://avatars.githubusercontent.com/u/491357?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/lorenzo"><img alt="lorenzo" src="https://avatars.githubusercontent.com/u/37621?v=3&s=117" width="117"></a>
<a href="https://github.com/kyanny"><img alt="kyanny" src="https://avatars.githubusercontent.com/u/10515?v=3&s=117" width="117"></a>
<a href="https://github.com/kumamidori"><img alt="kumamidori" src="https://avatars.githubusercontent.com/u/384567?v=3&s=117" width="117"></a>
<a href="https://github.com/ktutumi"><img alt="ktutumi" src="https://avatars.githubusercontent.com/u/3712782?v=3&s=117" width="117"></a>
<a href="https://github.com/kenjis"><img alt="kenjis" src="https://avatars.githubusercontent.com/u/87955?v=3&s=117" width="117"></a>
<a href="https://github.com/kenchingh"><img alt="kenchingh" src="https://avatars.githubusercontent.com/u/5219653?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/kawanamiyuu"><img alt="kawanamiyuu" src="https://avatars.githubusercontent.com/u/1461463?v=3&s=117" width="117"></a>
<a href="https://github.com/kaepapa"><img alt="kaepapa" src="https://avatars.githubusercontent.com/u/1049772?v=3&s=117" width="117"></a>
<a href="https://github.com/jingu"><img alt="jingu" src="https://avatars.githubusercontent.com/u/892913?v=3&s=117" width="117"></a>
<a href="https://github.com/jamolkhon"><img alt="jamolkhon" src="https://avatars.githubusercontent.com/u/817941?v=3&s=117" width="117"></a>
<a href="https://github.com/iteman"><img alt="iteman" src="https://avatars.githubusercontent.com/u/52985?v=3&s=117" width="117"></a>
<a href="https://github.com/holyshared"><img alt="holyshared" src="https://avatars.githubusercontent.com/u/167190?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/hidenorigoto"><img alt="hidenorigoto" src="https://avatars.githubusercontent.com/u/89830?v=3&s=117" width="117"></a>
<a href="https://github.com/harikt"><img alt="harikt" src="https://avatars.githubusercontent.com/u/120454?v=3&s=117" width="117"></a>
<a href="https://github.com/fivestar"><img alt="fivestar" src="https://avatars.githubusercontent.com/u/30999?v=3&s=117" width="117"></a>
<a href="https://github.com/fiahfy"><img alt="fiahfy" src="https://avatars.githubusercontent.com/u/7123916?v=3&s=117" width="117"></a>
<a href="https://github.com/desigrammer"><img alt="desigrammer" src="https://avatars.githubusercontent.com/u/1431057?v=3&s=117" width="117"></a>
<a href="https://github.com/craigjbass"><img alt="craigjbass" src="https://avatars.githubusercontent.com/u/1889973?v=3&s=117" width="117"></a></p>

<p><a href="https://github.com/bar"><img alt="bar" src="https://avatars.githubusercontent.com/u/88155?v=3&s=117" width="117"></a>
<a href="https://github.com/atakig"><img alt="atakig" src="https://avatars.githubusercontent.com/u/552033?v=3&s=117" width="117"></a>
<a href="https://github.com/77web"><img alt="77web" src="https://avatars.githubusercontent.com/u/296615?v=3&s=117" width="117"></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/29/phpkansai2014/">基調講演「全てを結ぶ力」</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-29T08:59:00+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:59 am</span></time>
        
           | <a href="/blog/2014/06/29/phpkansai2014/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2014/06/29/phpkansai2014/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>PHPカンファレンス関西で基調講演の機会をいただく事ができました。私のタイトルは「全てを結ぶ力」というもので、結ぶ（ハイパーリンク）という原則を持つWWWとそれに関わる技術や私たち開発者の話しをしました。</p>

<p>国内外含めてカンファレンスに登壇するのはこれが二度目です。最初のカンファレンスは世界レベルのエンジニア達をインスパイアさせたいという
夢を持ち、最上級のカテゴリで応募しました。二回目の今回は基調講演として聴衆者を限定しないで多くの人々に話がしたいと思いました。</p>

<h2>2014/06/28 10:30 AM 大阪産業創造館</h2>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.003.jpg" width="640"></p>

<p>最小のネットーワーク</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.005.jpg" width="640"></p>

<p>最大のネットワーク</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.007.jpg" width="640"></p>

<p>最初のウェブサイト</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.010.jpg" width="640"></p>

<p>最初のPHP</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.012.jpg" width="640"></p>

<p>最初のアプリケーションサーバー</p>


<p><br>
<br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.028.jpg" width="640"></p>

<p>最初のつぶやき</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.031.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.032.jpg" width="640"></p>

<p>決意</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.037.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.038.jpg" width="640"></p>

<p>インターネットの原則</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.044.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.045.jpg" width="640"></p>

<p>ソフトウエアの背後にいる人々</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.046.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.057.jpg" width="640"></p>

<p>私たち開発者</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.058.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.059.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.060.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.061.jpg" width="640"></p>

<p>メディアシフト</p>


<p><br></p>

<p><img src="/images/phpkansai2014/subete-wo-musubu-chikara.062.jpg" width="640">
<img src="/images/phpkansai2014/subete-wo-musubu-chikara.065.jpg" width="640"></p>

<p>エピローグ</p>


<blockquote><p>情報という宇宙でWebサイトという星を１つ作る。それは25年前に考えられたアルファベット最初の文字のタグで繋がれている。Webという力が世界の知識を結び、オープンソースやコミュニティが私たち開発者を結んでいる。またその私たちも技術を結び、Web創造の歴史に参加している。</p></blockquote>

<h2>謝辞</h2>

<p>４度をリハーサルを行いました。協力してくれたビットノーツ、エキサイト、HubTokyoのメンバー、その他の方々ありがとうございました。
タイトルをぎりぎりまで決める事が出来ず、PHPカンファレンス関西の運営の方々にも心配かけました。色々お世話になりました。</p>

<p>講演も無事終わりほっとしてます。Twitterでも多くの方が講演に関してつぶやいてくれてるのを見ました。
聞いてくださったみなさん、本当にありがとうございました。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/22/phpnw2013-3-feedback/">PHPNW2013(3)-Feedback</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-06-22T11:14:00+09:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2014</span></span> <span class='time'>11:14 am</span></time>
        
           | <a href="/blog/2014/06/22/phpnw2013-3-feedback/#disqus_thread"
             data-disqus-identifier="http://koriym.github.io/blog/2014/06/22/phpnw2013-3-feedback/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>フィードバック</h2>

<h3>joind.in</h3>

<p><a href="joind.in">joind.in</a>では人によるチェックで選ばれたカンファレンスが登録されていて、トークのフィードバックを得る事ができます。
国内ではトーク後の聴衆からの反応はねぎらいの言葉や感謝の言葉が多く、もし不満足な場合でも特にそれを表明しない事が多いと思います。</p>

<p>joind.inでは良いトークは賞賛される一方、良くないと評価されたものには（時に非常に）厳しい言葉が並び★評価が低いものになります。トークは「批評」されるのです。</p>

<p>賞賛の言葉が並べば自分の訴えた事が伝わり肯定された事が分かるし、厳しい言葉が並んだとしてもそれを改善に活かす事ができます。
★の数ではなく「何故聴衆はそう感じたか」を知る事ができるのは役に立ちます。</p>

<p>自分のトークは「今求められているもの」ではなく新しいアイデアです。フィードバックをもらえる仕組みがあるというのは、批評される恐さがある一方でありがたい事だとも思いました。</p>

<p>トーク終わった後、当日、次の日とポツポツとレビューがあがります。</p>

<p><a href="https://joind.in/9302"><img src="/images/phpnw13/joindin.png"><br>
<a href="https://joind.in/9302">https://joind.in/9302</a></a></p>

<p>ネガティブな評価は言葉の事でした。しかし心配してた自分の英語ではなくて日本語＝英語の同時通訳を途中に入れた事でした。
地元のユーザーグループとBBCと二回のリハーサルで問題ないとフィードバックをもらってたのでこれは意外な事でした。人によって感じ方がかなり違うのかもしれません。</p>

<p>その点を除けばアイデアや問題解決のためのアプローチを肯定する良い評価が並びました。</p>

<p><b>&ldquo;A novel presentation&rdquo;, &ldquo;Love the passion&rdquo;, &ldquo;A really inspiring&rdquo;, &ldquo;Mind-blowing bunch of ideas"。</b>最上級の言葉が並びました。
プレゼンテーションは成功したのです！！</p>

<h3>Twitter</h3>

<p>Twitterでも頂きました。</p>

<blockquote class="twitter-tweet" lang="ja"><p><a href="https://twitter.com/koriym">@koriym</a> good talk today buddy and congratulations on the framework!</p>&mdash; John Crossley ∆ (@JonnoTheBonno) <a href="https://twitter.com/JonnoTheBonno/statuses/386174891222786048">2013, 10月 4</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>




<blockquote class="twitter-tweet" lang="ja"><p>I&#39;ve learned about BEAR.Sunday . Very interesting. Session by <a href="https://twitter.com/koriym">@koriym</a> <a href="https://twitter.com/mackstar">@mackstar</a> at <a href="https://twitter.com/search?q=%23phpnw13&amp;src=hash">#phpnw13</a> <a href="http://t.co/9vvzUtwt3R">pic.twitter.com/9vvzUtwt3R</a></p>&mdash; Mark Szymik (@markszymik) <a href="https://twitter.com/markszymik/statuses/386502810051026944">2013, 10月 5</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>




<blockquote class="twitter-tweet" lang="ja"><p>DIC = graph; app = root node; compile it once and cache - those are my learnings from BEAR.Sunday talk. It was <a href="https://twitter.com/search?q=%23outOfThisWorld&amp;src=hash">#outOfThisWorld</a> <a href="https://twitter.com/search?q=%23phpnw13&amp;src=hash">#phpnw13</a></p>&mdash; Marijus Kilmanas (@mkilmanas) <a href="https://twitter.com/mkilmanas/statuses/386509192670244864">2013, 10月 5</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>




<blockquote class="twitter-tweet" lang="ja"><p>I think I’m going to use the time to read up on BEAR.sunday, it looks really interesting. /via <a href="https://twitter.com/mackstar">@mackstar</a> <a href="https://twitter.com/koriym">@koriym</a> <a href="https://twitter.com/search?q=%23phpnw13&amp;src=hash">#phpnw13</a></p>&mdash; Anthony Sterling (@anthonysterling) <a href="https://twitter.com/anthonysterling/statuses/386728438880813057">2013, 10月 6</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>




<blockquote class="twitter-tweet" lang="ja"><p>New home for my Bear Sunday badge. /cc <a href="https://twitter.com/koriym">@koriym</a> <a href="https://twitter.com/mackstar">@mackstar</a> <a href="https://twitter.com/search?q=%23phpnw13&amp;src=hash">#phpnw13</a> <a href="http://t.co/UYYDmqEZej">pic.twitter.com/UYYDmqEZej</a></p>&mdash; Ryan Marshall (@rsmarshall) <a href="https://twitter.com/rsmarshall/statuses/386866175277551617">2013, 10月 6</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>中でも気に入ってるのはこの「looks crazy! 」です。</p>

<blockquote class="twitter-tweet" data-cards="hidden" lang="ja"><p>BEAR.Sunday <a href="https://twitter.com/search?q=%23PHP&amp;src=hash">#PHP</a> 5.4 framework looks crazy! Resource oriented, REST hypermedia, DI and AOP: <a href="https://t.co/qqXAs2KPXz">https://t.co/qqXAs2KPXz</a></p>&mdash; Loïc Chardonnet (@epiloic) <a href="https://twitter.com/epiloic/statuses/386520372503257088">2013, 10月 5</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


<h2>Blog</h2>

<p>いくつかのブログでもフィードバックを頂けました。</p>

<blockquote><p>it does show us how it is possible to think about the web service process and how we might approach it a little differently.</p></blockquote>

<ul>
<li><a href="http://techportal.inviqa.com/2013/10/08/phpnw-conference-2013/">http://techportal.inviqa.com/2013/10/08/phpnw-conference-2013/</a></li>
</ul>


<blockquote><p>I thought it was about something completely different. It introduced Aspect oriented programming (something I had only seen in other languages, and had not considered using with PHP). The speaker was from Japan and had a guy interpreting for him at times. It should have been a disaster, but was not. It was interesting.</p></blockquote>

<ul>
<li><a href="http://ampersandcommerce.com/hobgoblins-mindgasms-and-why-we-loved-phpnw13/">http://ampersandcommerce.com/hobgoblins-mindgasms-and-why-we-loved-phpnw13/</a></li>
</ul>


<blockquote><p>I spoke a lot to Akihito Koriyama, who wrote a framework called BEAR, which breaks a lot of the principles that the popular frameworks follow. It does this in a way that improves the object-oriented structure of the application from more traditional architectures.</p></blockquote>

<ul>
<li><a href="http://www.studio24.net/blog/php-north-west-conference-2013">http://www.studio24.net/blog/php-north-west-conference-2013</a></li>
</ul>


<blockquote><p>This talk introduced the “BEAR.Sunday” framework, which took a new, Eastern-thinking approach to PHP frameworks.</p></blockquote>

<ul>
<li><a href="http://martinbean.co.uk/blog/2013/10/09/php-north-west-2013-conference/">http://martinbean.co.uk/blog/2013/10/09/php-north-west-2013-conference/</a></li>
</ul>


<h3>Leeds</h3>

<p>Leedsのときのもありました。</p>

<blockquote class="twitter-tweet" lang="ja"><p>Wow! I think everyone would agree they have just been enlightened by <a href="https://twitter.com/koriym">@koriym</a> and BEAR.Sunday</p>&mdash; Leeds PHP User Group (@leedsphp) <a href="https://twitter.com/leedsphp/statuses/384767549382356992">2013, 9月 30</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


<h2>直接のフィードバック</h2>

<p>終わった直後やその後にも、多くの人が自分の元に来てくれ感想を伝えてくれたり、質問をくれました。中には自分がいつもブログを読んでる知っている方もいました。
驚いたのは会場で話を聞いてなかった人まで来たことです。（トークは同時に３つあります）「聞き逃したんだけど友達からすごくインスパイアされたって聞いた。ちょっと聞かせてくれる？」こういう人が何人も現れました。
phpnwは参加者同士が交流できる多くの時間が用意されています。</p>

<h2>帰りの電車で</h2>

<p>カンファレンスは３日間ありますが、外国から飛行機で来ている人もいてお昼には終わります。会場を後にし電車に乗っていると、向こうからこちらをチラチラ見てる人がいます。カンファレンスでスピーカーギフトとしてもらったトレーナーを来ていたのですが、それを見てたのです。
「あなたもしかしてphpnwでフレームワークの話をした人？」ビックリしました！！彼の会社はカンファレンスの大手スポンサーだけど今年は自分はいけなかった。しかし同僚に話を聞いてたというのです。彼は興奮してましたが、僕はそれ以上。電車が目的地に着くまで話は尽きませんでした。</p>

<h2>初めてのプレゼンテーションでした</h2>

<p>meetupやSymfony勉強会で部分的な紹介をした事はありますが、BEAR.Sundayフレームワークの全体のプレゼンテーションを行ったのは国内含めてこれが初めてでした。
「インスピレーションを与える」という目的は達成できました。フィードバックをもらえたおかげで、会場に大勢の人が集まったのも、大きな拍手をもらったのも、遠い国から来てプレゼンテーションをしている人への暖かい応援というだけではなくその内容が評価されたのだと思う事ができました。</p>

<p>共同発表者のリチャードさんと相談を重ね、長い時間をかけ資料を準備しました。イギリスについてからも直前まで手直しを続けました。子供たちにもスピーチを聞いてもらって何度も練習を重ねました。
そうやって準備や練習にもとてつもないエネルギーをそそいだ成果でした。</p>

<p>リチャードさんありがとうございました。本当に面白かったです！</p>

<p><img src="/images/phpnw13/w_richard.jpg"><img src="/images/phpnw13/dog.jpg"></p>

<p>phpnw13 blog entries</p>

<p><a href="http://www.boxuk.com/php-north-west-2013">http://www.boxuk.com/php-north-west-2013</a>
<a href="http://www.labelmedia.co.uk/blog/phpnw13.html">http://www.labelmedia.co.uk/blog/phpnw13.html</a>
<a href="http://blogs.edgehill.ac.uk/webservices/2008/11/30/php-north-west-conference-review/">http://blogs.edgehill.ac.uk/webservices/2008/11/30/php-north-west-conference-review/</a>
<a href="http://www.justanothermark.co.uk/blog/2013/php-north-west-2013">http://www.justanothermark.co.uk/blog/2013/php-north-west-2013</a>
<a href="http://www.ctidigital.com/blog/development/phpnw13-guzzle-coding-standards-dependency-injection">http://www.ctidigital.com/blog/development/phpnw13-guzzle-coding-standards-dependency-injection</a>
<a href="http://www.hashbangcode.com/blog/phpnw13-review">http://www.hashbangcode.com/blog/phpnw13-review</a></p>

<p>※ 来週末の6月28日（土）に<a href="http://conference.kphpug.jp/2014/">PHPカンファレンス関西</a>で「全てを結ぶ力」というタイトルで講演を行います。PHPカンファレンス関西はこれが初めてです。よろしくお願いいたします！</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/03/18/phpnw17/">PHPNW17</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/18/phpnw/">PHPNW17</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/11/10/re-code-reading/">Re: BEAR.Sundayをコードリーディングしたのでメモ程度にアウトプットする</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/07/28/an-interface-as-an-api/">An Interface as an API</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/04/php7-dot-0-0/">PHP7.0.0</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/koriym">@koriym</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'koriym',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/102811656239290261200?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Akihito Koriyama -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'koriym';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script>
    (function(w,d){
        var c,e=d.createDocumentFragment(),f=d.getElementsByTagName("script")[0],
                a=function(a,b){if(!d.getElementById(b)){c=d.createElement("script");
                    c.src=a;c.id=b||null;c.async=true;e.appendChild(c);}};
                a("//b.st-hatena.com/js/bookmark_button_wo_al.js");
                f.parentNode.insertBefore(e,f);
            })(this,document);
</script>


</body>
</html>
