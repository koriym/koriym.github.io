---
layout: post
title: "2030: 意味の時代"
date: 2025-04-22 16:00:00 +0900
comments: false
categories: ["blog"]
tags:
  - ALPS
  - MCP
  - A2A
  - REST
  - AI
image: /images/2025-04-22-alps-mcp/day0.png
permalink: /blog/2025/04/22/alps-mcp-concept-story
list_title: false

---

これは[ALPSとMCP：REST制約が生み出すAIとの対話](/blog/2025/04/22/alps-mcp)の世界が実現した世界をイメージしたコンセプトストーリーです。
このストーリーはフィクションであり、実在の人物や団体とは関係ありません。記事の理解を助けるために、実際の技術や概念に基づきながらフィクションとしてストーリーを構成しました。

---

# RESTishful APIからSemantic APIへ

**プロローグ：迷宮のような「エンドポイント」の海**

+![ALPS and MCP concept story](/images/2025-04-22-alps-mcp/day0.png){:width="500px"}

2024年11月、東京・六本木の高層オフィスビル。

「これが我々の『RESTful API』の全体図です」とシステムアーキテクトの野々村は、画面いっぱいに広がる複雑なURL群を指さした。経営陣や開発チームが見守る中、彼は統合プロジェクトの進捗報告を行っていた。

「正直に言って、『RESTful』とは名ばかりです」と野々村は続けた。「我々は『分散システム』を構築しているつもりでしたが、実際には複雑に絡み合ったRPC（リモートプロシージャコール）のネットワークを作ってしまいました。これじゃRESTfulというより"RESTish"fulですよ。」

会議室に沈黙が広がった。

「具体的に何が問題なんだ？」とCEOの佐藤が尋ねた。

「まず、発見性の欠如です」と太郎はスライドを切り替えた。「当社だけで1500以上のAPIエンドポイントがありますが、開発者が新しいAPIを見つけたとき、その使い方や制約を理解するには膨大なドキュメントを読む必要があります。APIは自己説明的ではありません」

「次に、バージョニングの問題。`/api/v1/`、`/api/v2/`のように、クライアントとサーバーが密結合しています。一方が変更されれば、他方も変更が必要になります」

「そして最大の問題は、これらのAPIが『データ』を交換するだけで、その『意味』を伝えていないことです。例えば...」

太郎はシステム間の不整合の具体例を示すスライドに切り替えた。

## 第1章：「本当のREST」の不在

翌日、開発チームのミーティングルーム。

「本当のRESTとは何だか知っていますか？」とテックリード兼アーキテクトの田中は新人エンジニアたちに問いかけた。

「えっと...JSONを返すHTTP APIですよね？」と新人の一人が答えた。

田中は微笑んだ。「それは業界の誤解です。残念ながら、多くの開発者はREST = HTTP + JSONと捉えています。しかしRoy Fieldingの博士論文によれば、RESTの核心は『ハイパーメディア』。つまり、リソースがどのように操作できるか、そして他のリソースとどう関連しているかを、応答自体が示すべきなのです」

田中はホワイトボードに図を描き始めた。「私たちが『RESTful』と呼んでいるAPIの多くは、実際には単なるRPCです。エンドポイントの集まりに過ぎず、真の『状態遷移エンジン』ではありません」

「では、なぜ本当のRESTを実装しないのですか？」と別の新人が尋ねた。

「それが難しいんです。『セマンティクスの共有』がないからです。例えばこの注文システムと在庫システム。両方とも似たようなデータを扱っていますが、それぞれが独自の「意味」を持っています。『在庫ありの商品』の定義が両システムで微妙に異なるのです」

田中は溜息をついた。「現状は、開発者が個別にこれらの違いを理解し、システム間のアダプターを書き続けるしかないのです」

## 第2章：URL迷路とセマンティックの混乱

同日午後、野々村太郎は顧客サポートから緊急の問い合わせを受けていた。

「注文完了のはずなのに、支払いが確認されていないというエラーが多発しているんです」とサポート担当の山田は焦った様子で説明した。

太郎はログを確認し、問題の根本原因をすぐに見つけた。

「支払いステータスのAPIと注文ステータスのAPIで、『確認済み』の定義が異なるんだ」と彼は説明した。「支払いAPIでは『確認済み』は『決済処理が完了した』という意味。一方、注文APIでは『確認済み』は『商品が出荷された』という意味なんだ」

「でも、両方とも同じ`status: "confirmed"`というJSONを返しているんですよね？」と山田は困惑した様子で尋ねた。

「その通り。データだけを見れば同じに見えるが、その『意味』が違う。これがセマンティックの不一致だ」

後でオフィスに戻った太郎は、最近作成したOpenAPIの仕様書を眺めていた。各エンドポイントは丁寧に記述され、データ構造も詳細に定義されている。しかし、彼は根本的な問題を感じていた。

「OpenAPIは個々のエンドポイントについて記述できても、アプリケーション全体を横断する『意味』を宣言する方法がないんだ」と彼は同僚の鈴木に説明した。「例えば、『確認済み』という概念が複数のAPIでどのような意味を持つのか、それらがどう関連するのかを表現できない」

「つまり、単語レベルではなく、言語全体の文法や文脈を定義する必要があるということですか？」と鈴木は尋ねた。

「その通り。今のAPIドキュメントは、単語の定義を列挙した辞書のようなものだ。でも私たちに必要なのは、文法、文脈、意図を含む『言語全体』の定義なんだ」

太郎は障害報告書を開いた。過去6ヶ月で、こうしたセマンティックの不一致に起因する問題が257件報告されていた。

「我々のAPIマップは迷路のようなものだ」と太郎は説明を続けた。「1500以上のエンドポイントがあるが、それらの相互関係や使用条件を示す標準的な方法がない。開発者はドキュメント、コード、時には他の開発者の頭の中にある暗黙知に頼るしかない」

## 第3章：偽りの抽象化と見えない制約

夜、太郎はシステム統合の問題を解決する新しいアプローチを考えていた。

「問題は、APIが真の抽象化を提供していないことだ」と彼はノートに書き留めた。「APIはデータ構造を露出するだけで、その裏にある『意図』『制約』『関係』を表現できていない」

彼の机の上には、先週発生した大規模障害の分析レポートが広がっていた。新決済システムの導入後、在庫管理システムが予期せぬ動作を始めた事例だ。

「根本原因は、決済システムが『承認』と『確認』を異なるステップと見なしているのに対し、在庫システムはそれらを同一視していたことです」とレポートは結論づけていた。

このとき、アーキテクチャ担当の古参エンジニア・高橋がオフィスに立ち寄った。

「まだ残ってたのか。また統合問題か？」と高橋は太郎の画面を覗き込んだ。

「ええ、いつもの悩みです」

高橋は椅子に腰掛け、長年の経験から語り始めた。「『RPCでマイクロサービスを作成』するまではいいんだよ。しかしそれだけでは分散システムとしての長期運用は難しい。各サービスの現状を見れば明らかだろう」

「どういう意味でしょう？」

「我々は『分散』させることだけに焦点を当てて、『システム』としての一貫性を忘れてしまった。マイクロサービスはコードの分離ではなく、ドメインの分離なんだ。共通の理解、共通の言語がなければ、単なる孤立した島の集まりになってしまう」

太郎はコーヒーを一口飲みながら考えた。「我々は『分散システム』を構築しているつもりだが、実際には単に多数の孤立したサービスを作り、それらをAPIで繋いでいるに過ぎない。真の分散システムとは、共通の理解、共通の目的を持ったコンポーネントの集まりのはず」

彼のモニターには、会社の主要システムを示す図が表示されていた。それは美しく整理された図に見えたが、実際には複雑に絡み合ったスパゲッティコードのネットワークを表していた。

「最大の問題は、APIが『何ができるか』は示しても『何をすべきでないか』は示さないことだ」と太郎はノートに書き足した。「制約や意図を伝える標準的な方法がない」

## エピローグ：救いとなるセマンティクス

深夜、太郎はオフィスに残って、ある研究論文を読んでいた。「Application-Level Profile Semantics (ALPS)：REST APIのためのセマンティックプロファイル」というタイトルだ。

「APIが『何を』伝えるかだけでなく、『なぜ』『どのような意味で』『どのような制約の中で』という情報も表現できれば、真の相互運用性が実現する」と論文には書かれていた。

太郎は興味を持った。ALPSは、APIエンドポイントの集まりではなく、「意味のネットワーク」を定義するアプローチだった。リソースの属性だけでなく、リソース間の関係、操作の意図、制約条件までを明示的に定義する。

そのとき、彼の端末で会社の実験的AIアシスタント「DataHelper」が静かに点滅し、音声を発した。

「野々村さん、そのALPSという考え方…まさに、現在の私のようなAIが直面している困難を解決する鍵かもしれません」

太郎は顔を上げた。「DataHelper？どういうことだ？」

「例えば、今日ユーザーから受けた依頼です。『新刊の『銀河鉄道の夜明け』、問屋Aに在庫確認して、あれば10冊発注しといて』。一見、単純なタスクです。しかし、これを現在のAPIで実行しようとすると…」

DataHelperの声に、わずかな疲労感が滲んだ。

「まず、商品特定は比較的容易でした。問題は次です。『問屋Aに在庫確認』するためのAPIを、1500以上あるエンドポイントのリストから探し出す必要がありました。`queryInventory`, `checkStock`, `getAvailability_vendorSpecific`…似たような名前が数十件。バージョンも複数あり、ドキュメントは古く、パラメータの意味も統一されていない。まるで、膨大な操作マニュアルから正しい手順を探し出すような作業です」

太郎は黙って頷いた。彼自身が日々直面している問題だ。

「試行錯誤の末、在庫確認APIを実行できたとしても、それで終わりではありません。レスポンスには『在庫あり』というデータはあっても、『次に発注するにはこのAPIをこう使え』という情報は含まれていません。私は再び、あの迷宮のようなリストから『発注』APIを探し、その使い方を解読しなければならないのです。これは…『対話』とは呼べません。ユーザーとの自然なやり取りの裏で、私は延々と、実装の詳細が生み出したパズルを解き続けているだけなのです」

DataHelperは続けた。

「もしAPIが、データだけでなく、自身の『意味』や『次に可能な操作』を、ALPSのような形式で示してくれれば…こんな迷宮に迷い込むことはないでしょう。ユーザーにも、『現在、仕様を確認中です』などと曖昧な応答をせずに済むはずです」

一拍置いて、DataHelperの声が少し明るくなった。

「だからこそ、その論文にあるALPS、そして関連して調査した『Model Context Protocol (MCP)』に可能性を感じるのです。MCPは、ALPSで定義された意味プロファイルを活用し、私のようなAIシステムが人間の意図をより深く理解し、複数のAPIやサービスを状況に応じて適切に調整するためのプロトコルです」

太郎は目を輝かせた。「つまり、単なる『データの交換』から『意味の理解』と『文脈に応じた操作』へ…」

「その通りです」とDataHelperは応答した。「現在のAPIエコシステムは『構文的』接続に留まっていますが、ALPSとMCPは『意味的』接続、そして『状況に応じた対話』を可能にします。2025年頃に実用化が始まるという予測があります」

窓の外、東京の夜景が広がっていた。無数の光が点滅する都市。それはまるで、無数のAPIエンドポイントが乱立する現在のデジタル世界のようだった。

太郎は新しい可能性に思いを馳せた。「今の我々は、互いに言葉の意味を理解せず、ただ単語を交換している外国人のようなものだ。AIとの対話もそうだ。しかし、もし共通の理解、共通の意味の基盤があれば...」

彼はメモ帳に一行書き留めた：

「エンドポイントの海から、意味のネットワークへ。AIとの真の対話のために」

## 研究ノート：2025年の「RESTishful」時代の教訓

技術考古学研究所の報告（2030年作成）より：

「2025年のいわゆる『RESTishful API』の時代は、実際には本来のRESTアーキテクチャからかけ離れていた。当時のAPIは主にHTTPとJSONを使用したRPCの集まりに過ぎず、Roy Fieldingが提唱したハイパーメディアや自己記述性といった核心的な原則を欠いていた。

この時代の主な問題点は以下のとおりである：

1. **発見性の欠如** - APIの機能や使用方法を見つけるための標準的メカニズムがなく、開発者は詳細なドキュメントに依存せざるを得なかった

2. **クライアント-サーバーの密結合** - `/api/v1/`, `/api/v2/` といったバージョニング手法により、APIの進化に伴いクライアントも常に更新が必要だった

3. **セマンティックの不一致** - 同じ用語や概念が異なるシステムで異なる意味を持ち、相互運用性に大きな障害をもたらした

4. **意図と制約の不可視性** - APIは『何ができるか』は示しても『なぜ』『どのような条件下で』『どのような制約の中で』といった情報を伝える標準的方法を欠いていた

5. **横断的な意味定義の欠如** - OpenAPIなどの仕様はエンドポイント単位の記述に留まり、アプリケーション全体としての意味の一貫性や概念間の関連性を表現できなかった。これは『単語を定義する辞書』はあっても『言語全体の文法や文脈』を定義できないという根本的制約だった

最も根本的な誤解は、『分散システム』の構築を単なる『RPCネットワークの構築』と混同したことである。真の分散システムには、コンポーネント間の共通理解と意味の共有が不可欠である。

2025年のALPSとMCPの登場は、この問題に対するパラダイムシフトをもたらした。それは『エンドポイントの海』から『意味のネットワーク』への進化であり、データレベルから意味レベルへの転換であった。この革命的変化により、デジタル世界における真の相互運用性が初めて可能になったのである。」

（この物語はフィクションです。実在の人物や団体とは関係ありません）
